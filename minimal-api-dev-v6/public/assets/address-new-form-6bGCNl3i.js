import{j as e,cI as x,S as y,B as t,d as b}from"./index-BH9ijvcg.js";import{t as g,z as i}from"./zod-DcsM6yCN.js";import{u as j,a as f,F as s,i as T}from"./form-provider-b5GXhABL.js";import"./image-CxkC95SJ.js";import"./editor-BUp8U2Vl.js";import{s as n}from"./schema-helper-DNntP_fU.js";import{D as C}from"./DialogTitle-BFho6EhL.js";import{D as N}from"./DialogContent-CtzR1nPJ.js";import{D as S}from"./dialogTitleClasses-CSmkbKpM.js";import{L as D}from"./LoadingButton-jh3yI-IT.js";const q=i.object({city:i.string().min(1,{message:"City is required!"}),state:i.string().min(1,{message:"State is required!"}),name:i.string().min(1,{message:"Name is required!"}),address:i.string().min(1,{message:"Address is required!"}),zipCode:i.string().min(1,{message:"Zip code is required!"}),phoneNumber:n.phoneNumber({isValidPhoneNumber:T}),country:n.objectOrNull({message:{required_error:"Country is required!"}}),primary:i.boolean(),addressType:i.string()});function O({open:m,onClose:a,onCreate:d}){const l={name:"",city:"",state:"",address:"",zipCode:"",country:"",primary:!0,phoneNumber:"",addressType:"Home"},o=j({mode:"all",resolver:g(q),defaultValues:l}),{handleSubmit:u,formState:{isSubmitting:p}}=o,c=u(async r=>{try{d({name:r.name,phoneNumber:r.phoneNumber,fullAddress:`${r.address}, ${r.city}, ${r.state}, ${r.country}, ${r.zipCode}`,addressType:r.addressType,primary:r.primary}),a()}catch(h){console.error(h)}});return e.jsx(x,{fullWidth:!0,maxWidth:"sm",open:m,onClose:a,children:e.jsxs(f,{methods:o,onSubmit:c,children:[e.jsx(C,{children:"New address"}),e.jsx(N,{dividers:!0,children:e.jsxs(y,{spacing:3,children:[e.jsx(s.RadioGroup,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),e.jsxs(t,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(s.Text,{name:"name",label:"Full name"}),e.jsx(s.Phone,{name:"phoneNumber",label:"Phone number"})]}),e.jsx(s.Text,{name:"address",label:"Address"}),e.jsxs(t,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[e.jsx(s.Text,{name:"city",label:"Town/city"}),e.jsx(s.Text,{name:"state",label:"State"}),e.jsx(s.Text,{name:"zipCode",label:"Zip/code"})]}),e.jsx(s.CountrySelect,{name:"country",label:"Country",placeholder:"Choose a country"}),e.jsx(s.Checkbox,{name:"primary",label:"Use this address as default."})]})}),e.jsxs(S,{children:[e.jsx(b,{color:"inherit",variant:"outlined",onClick:a,children:"Cancel"}),e.jsx(D,{type:"submit",variant:"contained",loading:p,children:"Deliver to this address"})]})]})})}export{O as A};
