import{b9 as C,j as r,S as o,d as v,R as x,I as a,B as g,cV as p,o as b,dl as k,bb as w,bc as I,r as j,e5 as u,p as c,e as L,T as f,aB as B,d_ as E,ar as $,H as F,C as S}from"./index-BH9ijvcg.js";import{u as T}from"./use-params-Dab9jilC.js";import{b as D}from"./blog-RtDWsDDV.js";import"./image-CxkC95SJ.js";import{P as G,a as y}from"./post-comment-form-BZ24Dxn7.js";import{c as O}from"./format-number-z67FV_-O.js";import{a as W}from"./_blog-C6iFTPs4.js";import{M as H}from"./markdown-DRxN9prE.js";import{E as M}from"./empty-content-CTwJtcn7.js";import{P as U}from"./post-comment-list-BgFW9GmZ.js";import{a as A}from"./post-skeleton-BX5bQuXt.js";import{L as N}from"./LoadingButton-jh3yI-IT.js";import{C as R}from"./Chip-CWilL4Fh.js";import{F as _}from"./FormControlLabel-CVzZoZzb.js";import{C as z}from"./Checkbox-AhG6TMzi.js";import{A as V}from"./AvatarGroup-Y5-La42-.js";import"./html-to-markdown-Daz6g1i5.js";import"./index-BUoyIWvZ.js";import"./zod-DcsM6yCN.js";import"./form-provider-b5GXhABL.js";import"./TextField-DgF_8CdY.js";import"./Select-fMsy-Lkz.js";import"./Menu-C7S9TApF.js";import"./InputLabel-OzeQogzC.js";import"./FormLabel-Cn8enUsF.js";import"./FormHelperText-CAGzEAMm.js";import"./FormControl-rHOkSiGz.js";import"./Rating-BeEojfFm.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-BUp8U2Vl.js";import"./index-BVzUWzoE.js";import"./Slider-nP-7N9E2.js";import"./RadioGroup-7Oa-Pyj3.js";import"./FormGroup-BEVR9nif.js";import"./index-DVaqB1VX.js";import"./countries-DSLisFCy.js";import"./Autocomplete-Crt2raTS.js";import"./country-select-DjjsCD_N.js";import"./upload-BVxhxEL6.js";import"./preview-multi-file--Yn4-mQ8.js";import"./file-thumbnail-GgYbZAeX.js";import"./upload-avatar-Dm2-m_zx.js";import"./avatar-url-votlVkc-.js";import"./DatePicker-Br6g6rY4.js";import"./dialogTitleClasses-CSmkbKpM.js";import"./ListItem-Ch3K_gMr.js";import"./DialogContent-CtzR1nPJ.js";import"./MobileDateTimePicker-CzN3TBFx.js";import"./schema-helper-DNntP_fU.js";import"./Zoom-ZjSGVVhD.js";import"./Fab-C2bZThbR.js";import"./Card-CwEGl0A2.js";import"./CardHeader-BBcGHbnO.js";import"./Pagination-DOr1EQcv.js";import"./LastPage-DkhatgKI.js";import"./Skeleton-Mn58_7nY.js";function q({publish:i,backLink:s,editLink:n,liveLink:l,publishOptions:d,onChangePublish:h,sx:e,...P}){const m=C();return r.jsxs(r.Fragment,{children:[r.jsxs(o,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...e},...P,children:[r.jsx(v,{component:x,href:s,startIcon:r.jsx(a,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),r.jsx(g,{sx:{flexGrow:1}}),i==="published"&&r.jsx(p,{title:"Go Live",children:r.jsx(b,{component:x,href:l,children:r.jsx(a,{icon:"eva:external-link-fill"})})}),r.jsx(p,{title:"Edit",children:r.jsx(b,{component:x,href:n,children:r.jsx(a,{icon:"solar:pen-bold"})})}),r.jsx(N,{color:"inherit",variant:"contained",loading:!i,loadingIndicator:"Loadingâ€¦",endIcon:r.jsx(a,{icon:"eva:arrow-ios-downward-fill"}),onClick:m.onOpen,sx:{textTransform:"capitalize"},children:i})]}),r.jsx(k,{open:m.open,anchorEl:m.anchorEl,onClose:m.onClose,slotProps:{arrow:{placement:"top-right"}},children:r.jsx(w,{children:d.map(t=>r.jsxs(I,{selected:t.value===i,onClick:()=>{m.onClose(),h(t.value)},children:[t.value==="published"&&r.jsx(a,{icon:"eva:cloud-upload-fill"}),t.value==="draft"&&r.jsx(a,{icon:"solar:file-text-bold"}),t.label]},t.value))})})]})}function J({post:i,loading:s,error:n}){const[l,d]=j.useState(""),h=j.useCallback(e=>{d(e)},[]);return j.useEffect(()=>{i&&d(i==null?void 0:i.publish)},[i]),s?r.jsx(u,{maxWidth:!1,disablePadding:!0,children:r.jsx(A,{})}):n?r.jsx(u,{maxWidth:!1,children:r.jsx(M,{filled:!0,title:"Post not found!",action:r.jsx(v,{component:x,href:c.dashboard.post.root,startIcon:r.jsx(a,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Back to list"}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):r.jsxs(u,{maxWidth:!1,disablePadding:!0,children:[r.jsx(L,{maxWidth:!1,sx:{px:{sm:5}},children:r.jsx(q,{backLink:c.dashboard.post.root,editLink:c.dashboard.post.edit(`${i==null?void 0:i.title}`),liveLink:c.post.details(`${i==null?void 0:i.title}`),publish:`${l}`,onChangePublish:h,publishOptions:W})}),r.jsx(G,{title:`${i==null?void 0:i.title}`,coverUrl:`${i==null?void 0:i.coverUrl}`}),r.jsxs(o,{sx:{pb:5,mx:"auto",maxWidth:720,mt:{xs:5,md:10},px:{xs:2,sm:3}},children:[r.jsx(f,{variant:"subtitle1",children:i==null?void 0:i.description}),r.jsx(H,{children:i==null?void 0:i.content}),r.jsxs(o,{spacing:3,sx:{py:3,borderTop:e=>`dashed 1px ${e.vars.palette.divider}`,borderBottom:e=>`dashed 1px ${e.vars.palette.divider}`},children:[r.jsx(o,{direction:"row",flexWrap:"wrap",spacing:1,children:i==null?void 0:i.tags.map(e=>r.jsx(R,{label:e,variant:"soft"},e))}),r.jsxs(o,{direction:"row",alignItems:"center",children:[r.jsx(_,{control:r.jsx(z,{defaultChecked:!0,size:"small",color:"error",icon:r.jsx(a,{icon:"solar:heart-bold"}),checkedIcon:r.jsx(a,{icon:"solar:heart-bold"}),inputProps:{id:"favorite-checkbox","aria-label":"Favorite checkbox"}}),label:O(i==null?void 0:i.totalFavorites),sx:{mr:1}}),r.jsx(V,{sx:{[`& .${E.avatar}`]:{width:32,height:32}},children:i==null?void 0:i.favoritePerson.map(e=>r.jsx(B,{alt:e.name,src:e.avatarUrl},e.name))})]})]}),r.jsxs(o,{direction:"row",sx:{mb:3,mt:5},children:[r.jsx(f,{variant:"h4",children:"Comments"}),r.jsxs(f,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",i==null?void 0:i.comments.length,")"]})]}),r.jsx(y,{}),r.jsx($,{sx:{mt:5,mb:2}}),r.jsx(U,{comments:(i==null?void 0:i.comments)??[]})]})]})}const K={title:`Post details | Dashboard - ${S.site.name}`};function Yr(){const{title:i=""}=T(),{post:s,postLoading:n,postError:l}=D(i);return r.jsxs(r.Fragment,{children:[r.jsx(F,{children:r.jsxs("title",{children:[" ",K.title]})}),r.jsx(J,{post:s,loading:n,error:l})]})}export{Yr as default};
