import{j as t,G as a,S as x,d as P,I as S,B as y,r as n,e as I,T as b,p as L,dx as c,H as C,C as B}from"./index-BH9ijvcg.js";import{u as O,a as T}from"./blog-RtDWsDDV.js";import"./image-CxkC95SJ.js";import"./post-comment-form-BZ24Dxn7.js";import"./html-to-markdown-Daz6g1i5.js";import{u as k}from"./use-debounce-1Pol-l2r.js";import{P as w}from"./_blog-C6iFTPs4.js";import{P as F}from"./post-skeleton-BX5bQuXt.js";import{P as G,a as d}from"./post-item-Cu2DOxqD.js";import{P as v,a as H}from"./post-search-Cncyslr6.js";import"./index-BUoyIWvZ.js";import"./zod-DcsM6yCN.js";import"./form-provider-b5GXhABL.js";import"./TextField-DgF_8CdY.js";import"./Select-fMsy-Lkz.js";import"./Menu-C7S9TApF.js";import"./InputLabel-OzeQogzC.js";import"./FormLabel-Cn8enUsF.js";import"./FormHelperText-CAGzEAMm.js";import"./FormControl-rHOkSiGz.js";import"./Rating-BeEojfFm.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-BUp8U2Vl.js";import"./index-BVzUWzoE.js";import"./Slider-nP-7N9E2.js";import"./RadioGroup-7Oa-Pyj3.js";import"./FormGroup-BEVR9nif.js";import"./FormControlLabel-CVzZoZzb.js";import"./index-DVaqB1VX.js";import"./countries-DSLisFCy.js";import"./Autocomplete-Crt2raTS.js";import"./Chip-CWilL4Fh.js";import"./country-select-DjjsCD_N.js";import"./Checkbox-AhG6TMzi.js";import"./upload-BVxhxEL6.js";import"./preview-multi-file--Yn4-mQ8.js";import"./format-number-z67FV_-O.js";import"./file-thumbnail-GgYbZAeX.js";import"./upload-avatar-Dm2-m_zx.js";import"./avatar-url-votlVkc-.js";import"./DatePicker-Br6g6rY4.js";import"./dialogTitleClasses-CSmkbKpM.js";import"./ListItem-Ch3K_gMr.js";import"./DialogContent-CtzR1nPJ.js";import"./MobileDateTimePicker-CzN3TBFx.js";import"./schema-helper-DNntP_fU.js";import"./markdown-DRxN9prE.js";import"./empty-content-CTwJtcn7.js";import"./Zoom-ZjSGVVhD.js";import"./Fab-C2bZThbR.js";import"./LoadingButton-jh3yI-IT.js";import"./Card-CwEGl0A2.js";import"./CardHeader-BBcGHbnO.js";import"./Skeleton-Mn58_7nY.js";import"./CardContent-Bbr3YBl8.js";function Q({posts:r,loading:e}){const i=t.jsx(y,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:t.jsx(F,{})}),p=t.jsxs(a,{container:!0,spacing:3,children:[r.slice(0,3).map((s,m)=>t.jsx(a,{xs:12,sm:6,md:4,lg:m===0?6:3,sx:{display:{xs:"none",lg:"block"}},children:t.jsx(G,{post:s,index:m})},s.id)),r.slice(0,3).map(s=>t.jsx(a,{xs:12,sm:6,md:4,lg:3,sx:{display:{lg:"none"}},children:t.jsx(d,{post:s})},s.id)),r.slice(3,r.length).map(s=>t.jsx(a,{xs:12,sm:6,md:4,lg:3,children:t.jsx(d,{post:s})},s.id))]});return t.jsxs(t.Fragment,{children:[e?i:p,r.length>8&&t.jsx(x,{alignItems:"center",sx:{mt:8,mb:{xs:10,md:15}},children:t.jsx(P,{size:"large",variant:"outlined",startIcon:t.jsx(S,{icon:"svg-spinners:12-dots-scale-rotate",width:24}),children:"Load More"})})]})}function R({posts:r,loading:e}){const[i,p]=n.useState("latest"),[s,m]=n.useState(""),l=k(s),{searchResults:u,searchLoading:h}=O(l),g=A({inputData:r,sortBy:i}),j=n.useCallback(o=>{p(o)},[]),f=n.useCallback(o=>{m(o)},[]);return t.jsxs(I,{children:[t.jsx(b,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Blog"}),t.jsxs(x,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},sx:{mb:{xs:3,md:5}},children:[t.jsx(v,{query:l,results:u,onSearch:f,loading:h,hrefItem:o=>L.post.details(o)}),t.jsx(H,{sort:i,onSort:j,sortOptions:w})]}),t.jsx(Q,{posts:g,loading:e})]})}const A=({inputData:r,sortBy:e})=>e==="latest"?c(r,["createdAt"],["desc"]):e==="oldest"?c(r,["createdAt"],["asc"]):e==="popular"?c(r,["totalViews"],["desc"]):r,E={title:`Post list - ${B.site.name}`};function Vt(){const{posts:r,postsLoading:e}=T();return t.jsxs(t.Fragment,{children:[t.jsx(C,{children:t.jsxs("title",{children:[" ",E.title]})}),t.jsx(R,{posts:r,loading:e})]})}export{Vt as default};
