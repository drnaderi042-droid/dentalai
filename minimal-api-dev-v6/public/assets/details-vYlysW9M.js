import{b9 as C,j as r,S as o,d as v,R as x,I as a,B as g,cV as p,o as b,dl as k,bb as w,bc as I,r as j,e5 as u,p as c,e as L,T as f,aB as B,d_ as E,ar as $,H as F,C as S}from"./index-BSItzkt3.js";import{u as T}from"./use-params-CMCWaMkc.js";import{b as D}from"./blog-g_bG-jCO.js";import"./image-BuqYs7tq.js";import{P as G,a as y}from"./post-comment-form-D9jkEQzx.js";import{c as O}from"./format-number-BVcmMM5V.js";import{a as W}from"./_blog-C6iFTPs4.js";import{M as H}from"./markdown-DkFU1EoS.js";import{E as M}from"./empty-content-Cx4hswZg.js";import{P as U}from"./post-comment-list-iAmPYP0S.js";import{a as A}from"./post-skeleton-00ZeRUNf.js";import{L as N}from"./LoadingButton-HyVDRRh6.js";import{C as R}from"./Chip-CHY_XJWs.js";import{F as _}from"./FormControlLabel-CtXEP1QR.js";import{C as z}from"./Checkbox-p5PKnry8.js";import{A as V}from"./AvatarGroup-CCNk5uPB.js";import"./html-to-markdown-CuRjBHl-.js";import"./index-WR0nwbrK.js";import"./zod-BOXuI70n.js";import"./form-provider-IFaCVrX4.js";import"./TextField-DpdcsLRb.js";import"./Select-QPCMlUZ4.js";import"./Menu-Cy0n4kRw.js";import"./InputLabel-DqZ4yv4U.js";import"./FormLabel-Dg62SF9b.js";import"./FormHelperText-CBXzj8d7.js";import"./FormControl-1z33WGqh.js";import"./Rating-LRaLudfA.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-cOR4tKCy.js";import"./index-DC_o48Ax.js";import"./Slider-B4qW6LuH.js";import"./RadioGroup-DuXlXr3g.js";import"./FormGroup-DIAu_15X.js";import"./index-b5NUrSMh.js";import"./countries-DSLisFCy.js";import"./Autocomplete-B4c-hVbi.js";import"./country-select-B4qFdROS.js";import"./upload-C5NUn5Ko.js";import"./preview-multi-file-C1SdoyfF.js";import"./file-thumbnail-J0C6dV__.js";import"./upload-avatar-DTAGrxFf.js";import"./avatar-url-S8pB8DFh.js";import"./DatePicker-BK0jorBV.js";import"./dialogTitleClasses-BJYaWiXv.js";import"./ListItem-Doeuyi4X.js";import"./DialogContent-CPx_wcNJ.js";import"./MobileDateTimePicker-Baldv5MM.js";import"./schema-helper-DeS_g_Vm.js";import"./Zoom-DF_Z3Wyp.js";import"./Fab-y6_dLooR.js";import"./Card-BqWDE3fr.js";import"./CardHeader-CavtfEuu.js";import"./Pagination-DCxMl0QM.js";import"./LastPage-DHcM-itg.js";import"./Skeleton-CVH0eaWu.js";function q({publish:i,backLink:s,editLink:n,liveLink:l,publishOptions:d,onChangePublish:h,sx:e,...P}){const m=C();return r.jsxs(r.Fragment,{children:[r.jsxs(o,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...e},...P,children:[r.jsx(v,{component:x,href:s,startIcon:r.jsx(a,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),r.jsx(g,{sx:{flexGrow:1}}),i==="published"&&r.jsx(p,{title:"Go Live",children:r.jsx(b,{component:x,href:l,children:r.jsx(a,{icon:"eva:external-link-fill"})})}),r.jsx(p,{title:"Edit",children:r.jsx(b,{component:x,href:n,children:r.jsx(a,{icon:"solar:pen-bold"})})}),r.jsx(N,{color:"inherit",variant:"contained",loading:!i,loadingIndicator:"Loadingâ€¦",endIcon:r.jsx(a,{icon:"eva:arrow-ios-downward-fill"}),onClick:m.onOpen,sx:{textTransform:"capitalize"},children:i})]}),r.jsx(k,{open:m.open,anchorEl:m.anchorEl,onClose:m.onClose,slotProps:{arrow:{placement:"top-right"}},children:r.jsx(w,{children:d.map(t=>r.jsxs(I,{selected:t.value===i,onClick:()=>{m.onClose(),h(t.value)},children:[t.value==="published"&&r.jsx(a,{icon:"eva:cloud-upload-fill"}),t.value==="draft"&&r.jsx(a,{icon:"solar:file-text-bold"}),t.label]},t.value))})})]})}function J({post:i,loading:s,error:n}){const[l,d]=j.useState(""),h=j.useCallback(e=>{d(e)},[]);return j.useEffect(()=>{i&&d(i==null?void 0:i.publish)},[i]),s?r.jsx(u,{maxWidth:!1,disablePadding:!0,children:r.jsx(A,{})}):n?r.jsx(u,{maxWidth:!1,children:r.jsx(M,{filled:!0,title:"Post not found!",action:r.jsx(v,{component:x,href:c.dashboard.post.root,startIcon:r.jsx(a,{width:16,icon:"eva:arrow-ios-back-fill"}),sx:{mt:3},children:"Back to list"}),sx:{py:10,height:"auto",flexGrow:"unset"}})}):r.jsxs(u,{maxWidth:!1,disablePadding:!0,children:[r.jsx(L,{maxWidth:!1,sx:{px:{sm:5}},children:r.jsx(q,{backLink:c.dashboard.post.root,editLink:c.dashboard.post.edit(`${i==null?void 0:i.title}`),liveLink:c.post.details(`${i==null?void 0:i.title}`),publish:`${l}`,onChangePublish:h,publishOptions:W})}),r.jsx(G,{title:`${i==null?void 0:i.title}`,coverUrl:`${i==null?void 0:i.coverUrl}`}),r.jsxs(o,{sx:{pb:5,mx:"auto",maxWidth:720,mt:{xs:5,md:10},px:{xs:2,sm:3}},children:[r.jsx(f,{variant:"subtitle1",children:i==null?void 0:i.description}),r.jsx(H,{children:i==null?void 0:i.content}),r.jsxs(o,{spacing:3,sx:{py:3,borderTop:e=>`dashed 1px ${e.vars.palette.divider}`,borderBottom:e=>`dashed 1px ${e.vars.palette.divider}`},children:[r.jsx(o,{direction:"row",flexWrap:"wrap",spacing:1,children:i==null?void 0:i.tags.map(e=>r.jsx(R,{label:e,variant:"soft"},e))}),r.jsxs(o,{direction:"row",alignItems:"center",children:[r.jsx(_,{control:r.jsx(z,{defaultChecked:!0,size:"small",color:"error",icon:r.jsx(a,{icon:"solar:heart-bold"}),checkedIcon:r.jsx(a,{icon:"solar:heart-bold"}),inputProps:{id:"favorite-checkbox","aria-label":"Favorite checkbox"}}),label:O(i==null?void 0:i.totalFavorites),sx:{mr:1}}),r.jsx(V,{sx:{[`& .${E.avatar}`]:{width:32,height:32}},children:i==null?void 0:i.favoritePerson.map(e=>r.jsx(B,{alt:e.name,src:e.avatarUrl},e.name))})]})]}),r.jsxs(o,{direction:"row",sx:{mb:3,mt:5},children:[r.jsx(f,{variant:"h4",children:"Comments"}),r.jsxs(f,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",i==null?void 0:i.comments.length,")"]})]}),r.jsx(y,{}),r.jsx($,{sx:{mt:5,mb:2}}),r.jsx(U,{comments:(i==null?void 0:i.comments)??[]})]})]})}const K={title:`Post details | Dashboard - ${S.site.name}`};function Yr(){const{title:i=""}=T(),{post:s,postLoading:n,postError:l}=D(i);return r.jsxs(r.Fragment,{children:[r.jsx(F,{children:r.jsxs("title",{children:[" ",K.title]})}),r.jsx(J,{post:s,loading:n,error:l})]})}export{Yr as default};
