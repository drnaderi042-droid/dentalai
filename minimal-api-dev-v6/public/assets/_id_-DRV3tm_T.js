const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/patient-info-tab-BbtSF6Kh.js","assets/index-BSItzkt3.js","assets/index-DbJnq9AX.css","assets/form-provider-IFaCVrX4.js","assets/TextField-DpdcsLRb.js","assets/Select-QPCMlUZ4.js","assets/Menu-Cy0n4kRw.js","assets/InputLabel-DqZ4yv4U.js","assets/FormLabel-Dg62SF9b.js","assets/FormHelperText-CBXzj8d7.js","assets/FormControl-1z33WGqh.js","assets/Rating-LRaLudfA.js","assets/visuallyHidden-Dan1xhjv.js","assets/editor-cOR4tKCy.js","assets/index-DC_o48Ax.js","assets/editor-o-4C0GzD.css","assets/Slider-B4qW6LuH.js","assets/RadioGroup-DuXlXr3g.js","assets/FormGroup-DIAu_15X.js","assets/FormControlLabel-CtXEP1QR.js","assets/index-b5NUrSMh.js","assets/countries-DSLisFCy.js","assets/Autocomplete-B4c-hVbi.js","assets/Chip-CHY_XJWs.js","assets/country-select-B4qFdROS.js","assets/Checkbox-p5PKnry8.js","assets/upload-C5NUn5Ko.js","assets/preview-multi-file-C1SdoyfF.js","assets/format-number-BVcmMM5V.js","assets/file-thumbnail-J0C6dV__.js","assets/upload-avatar-DTAGrxFf.js","assets/avatar-url-S8pB8DFh.js","assets/image-BuqYs7tq.js","assets/DatePicker-BK0jorBV.js","assets/dialogTitleClasses-BJYaWiXv.js","assets/ListItem-Doeuyi4X.js","assets/DialogContent-CPx_wcNJ.js","assets/MobileDateTimePicker-Baldv5MM.js","assets/Card-BqWDE3fr.js","assets/CardHeader-CavtfEuu.js","assets/CardContent-DE24Aeed.js","assets/Grid-BaG8uD1u.js","assets/periodontal-chart-tab-DQ3SYwbq.js","assets/table-pagination-custom-FhZ3GpxG.js","assets/TablePagination-BVQvXhS8.js","assets/LastPage-DHcM-itg.js","assets/TableCell-B7TbLBfh.js","assets/TableContainer-BOBiasNg.js","assets/TableHead-DAuzvg-9.js","assets/DialogTitle-D9mOMHyE.js","assets/analysis-tab-D33oowcQ.js","assets/chart-D8aPrAeV.js","assets/chart-legends-C2zjVOvD.js"])))=>i.map(i=>d[i]);
import{dK as P,dg as I,i as A,r as t,dh as E,di as L,j as e,e5 as x,e as h,T as c,B as a,d as g,I as S,ek as z,cK as u,dc as j,bt as N,H as W,C as w}from"./index-BSItzkt3.js";const B=t.lazy(()=>j(()=>import("./patient-info-tab-BbtSF6Kh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41])).then(s=>({default:s.PatientInfoTab}))),R=t.lazy(()=>j(()=>import("./periodontal-chart-tab-DQ3SYwbq.js"),__vite__mapDeps([42,1,2,43,44,45,46,5,6,19,38,40,47,48,4,7,8,9,10,25,49,34,36])).then(s=>({default:s.PeriodontalChartTab}))),D=t.lazy(()=>j(()=>import("./analysis-tab-D33oowcQ.js"),__vite__mapDeps([50,1,2,51,52,20,38,40,10,7,8,5,6,49,34,36,41])).then(s=>({default:s.AnalysisTab}))),d=t.memo(()=>e.jsx(a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:400,py:4},children:e.jsx(N,{size:40})}));d.displayName="TabLoadingFallback";function F(){const{id:s}=P(),T=I(),{user:i}=A(),[l,b]=t.useState("info"),[n,v]=t.useState(null),[C,f]=t.useState(!0),[p,m]=t.useState(null),r=t.useCallback(async()=>{try{f(!0);const o=await E.get(`${L.patients}/${s}`,{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`}});v(o.data.patient),m(null)}catch(o){console.error("Error fetching patient:",o),m("خطا در بارگیری اطلاعات بیمار")}finally{f(!1)}},[s,i]);t.useEffect(()=>{i&&r()},[i,r]);const _=t.useCallback((o,k)=>{b(k)},[]),y=()=>{T("/dashboard/periodontics")};return C?e.jsx(x,{children:e.jsx(h,{children:e.jsx(c,{variant:"h4",sx:{textAlign:"center",mt:4},children:"در حال بارگیری..."})})}):p||!n?e.jsx(x,{children:e.jsxs(h,{children:[e.jsx(c,{variant:"h4",color:"error",sx:{textAlign:"center",mt:4},children:p||"بیمار یافت نشد"}),e.jsx(a,{sx:{textAlign:"center",mt:2},children:e.jsx(g,{variant:"contained",onClick:y,children:"بازگشت به لیست"})})]})}):e.jsx(x,{children:e.jsxs(h,{maxWidth:"xl",children:[e.jsxs(a,{sx:{mb:4},children:[e.jsx(g,{startIcon:e.jsx(S,{icon:"solar:arrow-left-bold-duotone"}),onClick:y,sx:{mb:2},children:"بازگشت به لیست بیماران"}),e.jsx(a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:e.jsxs(a,{children:[e.jsxs(c,{variant:"h4",children:[n.firstName," ",n.lastName]}),e.jsxs(c,{variant:"body2",color:"text.secondary",children:[n.age," سال | ",n.phone||"بدون شماره تماس"]})]})})]}),e.jsx(a,{sx:{mb:3,display:"flex",justifyContent:"center"},children:e.jsxs(z,{value:l,onChange:_,variant:"fullWidth",sx:{width:"100%",minWidth:0,borderRadius:1,mx:"auto",maxWidth:"none","& .MuiTab-root":{flex:1,minWidth:0,maxWidth:"none",zIndex:2,position:"relative"}},children:[e.jsx(u,{label:"اطلاعات کلی",value:"info"}),e.jsx(u,{label:"چارت پریودونتال",value:"chart"}),e.jsx(u,{label:"آنالیز و طرح درمان",value:"analysis"})]})}),e.jsxs(a,{children:[e.jsx(a,{sx:{display:l==="info"?"block":"none"},children:e.jsx(t.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(B,{patient:n,onUpdate:r})})}),e.jsx(a,{sx:{display:l==="chart"?"block":"none"},children:e.jsx(t.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(R,{patient:n,onUpdate:r,onNavigateToAnalysis:()=>b("analysis")})})}),e.jsx(a,{sx:{display:l==="analysis"?"block":"none"},children:e.jsx(t.Suspense,{fallback:e.jsx(d,{}),children:e.jsx(D,{patient:n,onUpdate:r})})})]})]})})}const O={title:`جزئیات بیمار پریودونتیکس | ${w.site.name}`};function $(){return e.jsxs(e.Fragment,{children:[e.jsx(W,{children:e.jsx("title",{children:O.title})}),e.jsx(F,{})]})}export{$ as default};
