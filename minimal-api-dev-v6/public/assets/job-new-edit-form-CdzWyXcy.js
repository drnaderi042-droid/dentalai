import{h as I,r,fe as g,dA as B,p as L,j as e,ar as j,S as t,T as o,ff as N,fg as b,fh as D,fi as A,B as c,I as y,aC as F,a_ as R,n as q,fj as H,bf as M}from"./index-BH9ijvcg.js";import{t as W,z as l}from"./zod-DcsM6yCN.js";import{u as z,F as n,C as G,a as K}from"./form-provider-b5GXhABL.js";import"./image-CxkC95SJ.js";import"./editor-BUp8U2Vl.js";import{s as f}from"./schema-helper-DNntP_fU.js";import{C as u}from"./Card-CwEGl0A2.js";import{C}from"./CardHeader-BBcGHbnO.js";import{C as S}from"./Chip-CWilL4Fh.js";import{F as U}from"./FormControlLabel-CVzZoZzb.js";import{L as Y}from"./LoadingButton-jh3yI-IT.js";const V=l.object({title:l.string().min(1,{message:"Title is required!"}),content:l.string().min(1,{message:"Content is required!"}),employmentTypes:l.string().array().nonempty({message:"Choose at least one option!"}),role:f.objectOrNull({message:{required_error:"Role is required!"}}),skills:l.string().array().nonempty({message:"Choose at least one option!"}),workingSchedule:l.string().array().nonempty({message:"Choose at least one option!"}),locations:l.string().array().nonempty({message:"Choose at least one option!"}),expiredDate:f.date({message:{required_error:"Expired date is required!"}}),salary:l.object({price:l.number().min(1,{message:"Price is required!"}),type:l.string(),negotiable:l.boolean()}),benefits:l.string().array().nonempty({message:"Choose at least one option!"}),experience:l.string()});function ne({currentJob:s}){const E=I(),d=r.useMemo(()=>({title:(s==null?void 0:s.title)||"",content:(s==null?void 0:s.content)||"",employmentTypes:(s==null?void 0:s.employmentTypes)||[],experience:(s==null?void 0:s.experience)||"1 year exp",role:(s==null?void 0:s.role)||g[1],skills:(s==null?void 0:s.skills)||[],workingSchedule:(s==null?void 0:s.workingSchedule)||[],locations:(s==null?void 0:s.locations)||[],expiredDate:(s==null?void 0:s.expiredDate)||null,salary:(s==null?void 0:s.salary)||{type:"Hourly",price:0,negotiable:!1},benefits:(s==null?void 0:s.benefits)||[]}),[s]),h=z({mode:"all",resolver:W(V),defaultValues:d}),{reset:m,control:O,handleSubmit:T,formState:{isSubmitting:k}}=h;r.useEffect(()=>{s&&m(d)},[s,d,m]);const v=T(async a=>{try{await new Promise(i=>setTimeout(i,500)),m(),B.success(s?"Update success!":"Create success!"),E.push(L.dashboard.job.root),console.info("DATA",a)}catch(i){console.error(i)}}),w=e.jsxs(u,{children:[e.jsx(C,{title:"Details",subheader:"Title, short description, image...",sx:{mb:3}}),e.jsx(j,{}),e.jsxs(t,{spacing:3,sx:{p:3},children:[e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Title"}),e.jsx(n.Text,{name:"title",placeholder:"Ex: Software Engineer..."})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Content"}),e.jsx(n.Editor,{name:"content",sx:{maxHeight:480}})]})]})]}),P=e.jsxs(u,{children:[e.jsx(C,{title:"Properties",subheader:"Additional functions and attributes...",sx:{mb:3}}),e.jsx(j,{}),e.jsxs(t,{spacing:3,sx:{p:3},children:[e.jsxs(t,{spacing:1,children:[e.jsx(o,{variant:"subtitle2",children:"Employment type"}),e.jsx(n.MultiCheckbox,{row:!0,name:"employmentTypes",options:N,sx:{gap:4}})]}),e.jsxs(t,{spacing:1,children:[e.jsx(o,{variant:"subtitle2",children:"Experience"}),e.jsx(n.RadioGroup,{row:!0,name:"experience",options:b,sx:{gap:4}})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Role"}),e.jsx(n.Autocomplete,{name:"role",autoHighlight:!0,options:g.map(a=>a),getOptionLabel:a=>a,renderOption:(a,i)=>r.createElement("li",{...a,key:i},i)})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Skills"}),e.jsx(n.Autocomplete,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:D.map(a=>a),getOptionLabel:a=>a,renderOption:(a,i)=>r.createElement("li",{...a,key:i},i),renderTags:(a,i)=>a.map((p,x)=>r.createElement(S,{...i({index:x}),key:p,label:p,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Working schedule"}),e.jsx(n.Autocomplete,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:A.map(a=>a),getOptionLabel:a=>a,renderOption:(a,i)=>r.createElement("li",{...a,key:i},i),renderTags:(a,i)=>a.map((p,x)=>r.createElement(S,{...i({index:x}),key:p,label:p,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Locations"}),e.jsx(n.CountrySelect,{multiple:!0,name:"locations",placeholder:"+ Locations"})]}),e.jsxs(t,{spacing:1.5,children:[e.jsx(o,{variant:"subtitle2",children:"Expired"}),e.jsx(n.DatePicker,{name:"expiredDate"})]}),e.jsxs(t,{spacing:2,children:[e.jsx(o,{variant:"subtitle2",children:"Salary"}),e.jsx(G,{name:"salary.type",control:O,render:({field:a})=>e.jsx(c,{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:[{label:"Hourly",icon:e.jsx(y,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:e.jsx(y,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map(i=>e.jsxs(F,{component:R,variant:"outlined",onClick:()=>a.onChange(i.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...i.label===a.value&&{borderWidth:2,borderColor:"text.primary"}},children:[i.icon,i.label]},i.label))})}),e.jsx(n.Text,{name:"salary.price",placeholder:"0.00",type:"number",InputProps:{startAdornment:e.jsx(q,{position:"start",children:e.jsx(c,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})}}),e.jsx(n.Switch,{name:"salary.negotiable",label:"Salary is negotiable"})]}),e.jsxs(t,{spacing:1,children:[e.jsx(o,{variant:"subtitle2",children:"Benefits"}),e.jsx(n.MultiCheckbox,{name:"benefits",options:H,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]}),_=e.jsxs(c,{display:"flex",alignItems:"center",flexWrap:"wrap",children:[e.jsx(U,{control:e.jsx(M,{defaultChecked:!0,inputProps:{id:"publish-switch"}}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(Y,{type:"submit",variant:"contained",size:"large",loading:k,sx:{ml:2},children:s?"Save changes":"Create job"})]});return e.jsx(K,{methods:h,onSubmit:v,children:e.jsxs(t,{spacing:{xs:3,md:5},sx:{mx:"auto",maxWidth:{xs:720,xl:880}},children:[w,P,_]})})}export{ne as J};
