import{dg as v,r as d,j as e,e as f,S as s,B as n,I as i,T as r,A as w,d as I,ar as C,p as j,H as S,C as W}from"./index-BSItzkt3.js";import{G as c}from"./Grid-BaG8uD1u.js";import{C as x}from"./Card-BqWDE3fr.js";import{T}from"./TextField-DpdcsLRb.js";import{C as h}from"./Chip-CHY_XJWs.js";import"./Select-QPCMlUZ4.js";import"./Menu-Cy0n4kRw.js";import"./InputLabel-DqZ4yv4U.js";import"./FormLabel-Dg62SF9b.js";import"./FormHelperText-CBXzj8d7.js";import"./FormControl-1z33WGqh.js";const N=[{value:5e4,label:"۵۰ هزار تومان"},{value:1e5,label:"۱۰۰ هزار تومان"},{value:2e5,label:"۲۰۰ هزار تومان"},{value:5e5,label:"۵۰۰ هزار تومان"},{value:1e6,label:"۱ میلیون تومان"},{value:2e6,label:"۲ میلیون تومان"}];function A(){const g=v(),[a,p]=d.useState(""),[m,o]=d.useState(""),[l,z]=d.useState({balance:0,currency:"تومان",recentTransactions:[]}),u=t=>new Intl.NumberFormat("fa-IR").format(Math.abs(t)),b=()=>{const t=parseInt(a,10);if(console.log("[Wallet] Deposit clicked:",{depositAmount:a,amount:t}),!a||Number.isNaN(t)){o("لطفا مبلغ را وارد کنید");return}if(t<1e4){o("حداقل مبلغ شارژ ۱۰,۰۰۰ تومان است");return}console.log("[Wallet] Navigating to payment with:",{path:j.dashboard.payment,amount:t,type:"wallet_charge"}),g(j.dashboard.payment,{state:{amount:t,type:"wallet_charge",currency:"تومان"}})};return e.jsxs(f,{maxWidth:"lg",sx:{py:5},children:[e.jsxs(s,{direction:"row",alignItems:"center",spacing:2,sx:{mb:5},children:[e.jsx(n,{sx:{width:56,height:56,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{icon:"solar:wallet-bold-duotone",width:32,sx:{color:"var(--palette-text-secondary)"}})}),e.jsxs(n,{children:[e.jsx(r,{variant:"h4",children:"کیف پول"}),e.jsx(r,{variant:"body2",color:"text.secondary",children:"مدیریت موجودی و تراکنش‌های مالی"})]})]}),e.jsxs(c,{container:!0,spacing:3,children:[e.jsx(c,{item:!0,xs:12,md:4,children:e.jsxs(x,{sx:{p:3,height:"100%"},children:[e.jsxs(s,{direction:"row",alignItems:"center",spacing:1,sx:{mb:3},children:[e.jsx(i,{icon:"solar:wallet-2-bold",width:24,sx:{color:"var(--palette-text-secondary)"}}),e.jsx(r,{variant:"subtitle2",color:"text.secondary",children:"موجودی فعلی"})]}),e.jsxs(s,{direction:"row",alignItems:"baseline",spacing:1,children:[e.jsx(r,{variant:"h3",sx:{fontWeight:700},children:u(l.balance)}),e.jsx(r,{variant:"body2",color:"text.secondary",children:l.currency})]})]})}),e.jsx(c,{item:!0,xs:12,md:8,children:e.jsxs(x,{sx:{p:4,height:"100%"},children:[e.jsxs(s,{direction:"row",alignItems:"center",spacing:2,sx:{mb:3},children:[e.jsx(i,{icon:"solar:card-bold-duotone",width:28,sx:{color:"var(--palette-text-secondary)"}}),e.jsx(r,{variant:"h5",children:"شارژ کیف پول"})]}),m&&e.jsx(w,{severity:"error",sx:{mb:3},onClose:()=>o(""),children:m}),e.jsxs(s,{spacing:3,children:[e.jsx(T,{fullWidth:!0,label:"مبلغ شارژ (تومان)",type:"number",value:a,onChange:t=>{p(t.target.value),o("")},placeholder:"مثلاً: 100000",helperText:"حداقل مبلغ شارژ: ۱۰,۰۰۰ تومان",InputProps:{startAdornment:e.jsx(i,{icon:"solar:money-bag-bold",width:24,sx:{mr:1,color:"var(--palette-text-secondary)"}})}}),e.jsxs(n,{children:[e.jsx(r,{variant:"subtitle2",sx:{mb:2},children:"انتخاب سریع مبلغ:"}),e.jsx(c,{container:!0,spacing:1.5,children:N.map(t=>e.jsx(c,{item:!0,xs:6,sm:4,children:e.jsx(h,{label:t.label,variant:a===String(t.value)?"filled":"outlined",color:a===String(t.value)?"primary":"default",onClick:()=>{p(String(t.value)),o("")},sx:{width:"100%",height:40,fontSize:"0.875rem",cursor:"pointer"}})},t.value))})]}),e.jsx(I,{variant:"contained",size:"large",fullWidth:!0,onClick:b,disabled:!a,sx:{py:1.5,fontSize:"0.9rem",fontWeight:400},children:"ادامه و انتخاب درگاه پرداخت"})]})]})})]}),e.jsxs(x,{sx:{p:4,mt:3},children:[e.jsxs(s,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:3},children:[e.jsxs(s,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(i,{icon:"solar:history-bold-duotone",width:28,sx:{color:"var(--palette-text-secondary)"}}),e.jsx(r,{variant:"h5",children:"تراکنش‌های اخیر"})]}),e.jsx(h,{label:`${l.recentTransactions.length} تراکنش`,size:"small",color:"primary",variant:"outlined"})]}),e.jsx(s,{spacing:2,children:l.recentTransactions.map((t,y)=>e.jsxs(n,{children:[e.jsxs(s,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(n,{sx:{width:48,height:48,borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(i,{icon:t.type==="deposit"?"solar:arrow-down-bold":t.type==="payment"?"solar:arrow-up-bold":"solar:refresh-bold",width:24,sx:{color:"var(--palette-text-secondary)"}})}),e.jsxs(n,{sx:{flex:1},children:[e.jsx(r,{variant:"body1",fontWeight:600,sx:{mb:.5},children:t.description}),e.jsxs(s,{direction:"row",alignItems:"center",spacing:1,children:[e.jsx(i,{icon:"solar:calendar-bold",width:14,sx:{color:"var(--palette-text-secondary)"}}),e.jsx(r,{variant:"caption",color:"text.secondary",children:t.date}),e.jsx(h,{label:t.status==="completed"?"تکمیل شده":"در انتظار",size:"small",color:t.status==="completed"?"success":"warning",sx:{height:20,fontSize:"0.65rem"}})]})]}),e.jsxs(n,{sx:{textAlign:"left"},children:[e.jsxs(r,{variant:"h6",color:t.amount>0?"success.main":"error.main",fontWeight:"bold",children:[t.amount>0?"+":"",u(t.amount)]}),e.jsx(r,{variant:"caption",color:"text.secondary",children:l.currency})]})]}),y<l.recentTransactions.length-1&&e.jsx(C,{sx:{my:2}})]},t.id))})]})]})}function P(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{children:e.jsxs("title",{children:[" ",`کیف پول - ${W.appName}`]})}),e.jsx(A,{})]})}export{P as default};
