import{b as U,r as x,k as v,b9 as G,dA as L,v as A,j as e,S as w,T as E,aK as ie,em as ce,aL as de,aB as ee,d_ as te,I as p,o as B,dU as N,dS as he,dl as K,bb as oe,bc as I,ar as _,d as D,B as F,cV as Y,n as pe,dd as xe,fr as me,eX as ne,aD as ue,ef as ge,aC as je,bo as Ce,s as be,d2 as Z,fs as ve,dr as fe,eZ as ye,ft as ke,e5 as we,e$ as Te,H as De,C as Fe}from"./index-BH9ijvcg.js";import{F as H,a as Se}from"./file-thumbnail-GgYbZAeX.js";import{E as Ie}from"./empty-content-CTwJtcn7.js";import{C as V}from"./confirm-dialog-U4gI9R8N.js";import{T as Re,u as Ae,g as Ee,r as Pe}from"./table-selected-action-BoGEyWv0.js";import{T as Le}from"./table-no-data-DkwRy3n-.js";import{T as Be}from"./table-head-custom-DVMZJ-e5.js";import{T as $e}from"./table-pagination-custom-C6u0JfTk.js";import{u as Me}from"./use-double-click-8Vuicqx0.js";import{u as ae}from"./use-copy-to-clipboard-l3wA-y58.js";import{a as se}from"./format-number-z67FV_-O.js";import{F as re,a as J,b as q,c as ze,d as W}from"./file-manager-folder-item-Be_QM4b-.js";import{T as Oe,a as Ne,b as We}from"./TableHead-CgILorvc.js";import{T as S}from"./TableCell-C_iRAQPi.js";import{C as P}from"./Checkbox-AhG6TMzi.js";import{A as le}from"./AvatarGroup-Y5-La42-.js";import{T as Ue}from"./TableContainer-Bh7RL936.js";import{t as Ge}from"./TablePagination-B44FLsH8.js";import{C as Ke}from"./custom-date-range-picker-BLvUoIZ_.js";import{T as _e}from"./TextField-DgF_8CdY.js";import{F as He,a as M,c as z}from"./filters-result-C-KhAJgH.js";import{C as O}from"./Chip-CWilL4Fh.js";import{T as Ve,a as Q}from"./ToggleButtonGroup-BM7GBSTh.js";import"./DialogTitle-BFho6EhL.js";import"./dialogTitleClasses-CSmkbKpM.js";import"./DialogContent-CtzR1nPJ.js";import"./FormControlLabel-CVzZoZzb.js";import"./Autocomplete-Crt2raTS.js";import"./Select-fMsy-Lkz.js";import"./Menu-C7S9TApF.js";import"./upload-BVxhxEL6.js";import"./preview-multi-file--Yn4-mQ8.js";import"./index-DVaqB1VX.js";import"./FormHelperText-CAGzEAMm.js";import"./image-CxkC95SJ.js";import"./LastPage-DkhatgKI.js";import"./DatePicker-Br6g6rY4.js";import"./InputLabel-OzeQogzC.js";import"./FormLabel-Cn8enUsF.js";import"./visuallyHidden-Dan1xhjv.js";import"./FormControl-rHOkSiGz.js";import"./ListItem-Ch3K_gMr.js";function Je({row:t,selected:r,onSelectRow:m,onDeleteRow:c}){const i=U(),{copy:g}=ae(),[u,a]=x.useState(""),l=v(t.isFavorited),s=v(),n=v(),h=v(),j=G(),b=x.useCallback(d=>{a(d.target.value)},[]),f=Me({click:()=>{s.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),y=x.useCallback(()=>{L.success("Copied!"),g(t.url)},[g,t.url]),k={borderTop:`solid 1px ${A(i.vars.palette.grey["500Channel"],.16)}`,borderBottom:`solid 1px ${A(i.vars.palette.grey["500Channel"],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${A(i.vars.palette.grey["500Channel"],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${A(i.vars.palette.grey["500Channel"],.16)}`}};return e.jsxs(e.Fragment,{children:[e.jsxs(Oe,{selected:r,sx:{borderRadius:2,[`&.${he.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:i.customShadows.z20,transition:i.transitions.create(["background-color","box-shadow"],{duration:i.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:i.customShadows.z20}},[`& .${N.root}`]:{...k},...s.value&&{[`& .${N.root}`]:{...k}}},children:[e.jsx(S,{padding:"checkbox",children:e.jsx(P,{checked:r,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:m,inputProps:{id:`row-checkbox-${t.id}`,"aria-label":"row-checkbox"}})}),e.jsx(S,{onClick:f,children:e.jsxs(w,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(H,{file:t.type}),e.jsx(E,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...s.value&&{fontWeight:"fontWeightBold"}},children:t.name})]})}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:se(t.size)}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:t.type}),e.jsx(S,{onClick:f,sx:{whiteSpace:"nowrap"},children:e.jsx(ie,{primary:de(t.modifiedAt),secondary:ce(t.modifiedAt),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(S,{align:"right",onClick:f,children:e.jsx(le,{max:4,sx:{display:"inline-flex",[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:t.shared&&t.shared.map(d=>e.jsx(ee,{alt:d.name,src:d.avatarUrl},d.id))})}),e.jsxs(S,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(P,{color:"warning",icon:e.jsx(p,{icon:"eva:star-outline"}),checkedIcon:e.jsx(p,{icon:"eva:star-fill"}),checked:l.value,onChange:l.onToggle,sx:{p:.75}}),e.jsx(B,{color:j.open?"inherit":"default",onClick:j.onOpen,children:e.jsx(p,{icon:"eva:more-vertical-fill"})})]})]}),e.jsx(K,{open:j.open,anchorEl:j.anchorEl,onClose:j.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(oe,{children:[e.jsxs(I,{onClick:()=>{j.onClose(),y()},children:[e.jsx(p,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(I,{onClick:()=>{j.onClose(),n.onTrue()},children:[e.jsx(p,{icon:"solar:share-bold"}),"Share"]}),e.jsx(_,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{onClick:()=>{h.onTrue(),j.onClose()},sx:{color:"error.main"},children:[e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(re,{item:t,favorited:l.value,onFavorite:l.onToggle,onCopyLink:y,open:s.value,onClose:s.onFalse,onDelete:c}),e.jsx(J,{open:n.value,shared:t.shared,inviteEmail:u,onChangeInvite:b,onCopyLink:y,onClose:()=>{n.onFalse(),a("")}}),e.jsx(V,{open:h.value,onClose:h.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(D,{variant:"contained",color:"error",onClick:c,children:"Delete"})})]})}const Xe=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function Ye({table:t,notFound:r,onDeleteRow:m,dataFiltered:c,onOpenConfirm:i}){const g=U(),{dense:u,page:a,order:l,orderBy:s,rowsPerPage:n,selected:h,onSelectRow:j,onSelectAllRows:b,onSort:f,onChangeDense:y,onChangePage:k,onChangeRowsPerPage:d}=t;return e.jsxs(e.Fragment,{children:[e.jsxs(F,{sx:{position:"relative",m:{md:g.spacing(-2,-3,0,-3)}},children:[e.jsx(Re,{dense:u,numSelected:h.length,rowCount:c.length,onSelectAllRows:C=>b(C,c.map(o=>o.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(Y,{title:"Share",children:e.jsx(B,{color:"primary",children:e.jsx(p,{icon:"solar:share-bold"})})}),e.jsx(Y,{title:"Delete",children:e.jsx(B,{color:"primary",onClick:i,children:e.jsx(p,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(Ue,{sx:{px:{md:3}},children:e.jsxs(Ne,{size:u?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx(Be,{order:l,orderBy:s,headLabel:Xe,rowCount:c.length,numSelected:h.length,onSort:f,onSelectAllRows:C=>b(C,c.map(o=>o.id)),sx:{[`& .${N.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(We,{children:[c.slice(a*n,a*n+n).map(C=>e.jsx(Je,{row:C,selected:h.includes(C.id),onSelectRow:()=>j(C.id),onDeleteRow:()=>m(C.id)},C.id)),e.jsx(Le,{notFound:r,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${g.vars.palette.divider}`}})]})]})})]}),e.jsx($e,{page:a,dense:u,rowsPerPage:n,count:c.length,onPageChange:k,onChangeDense:y,onRowsPerPageChange:d,sx:{[`& .${Ge.toolbar}`]:{borderTopColor:"transparent"}}})]})}function Ze({filters:t,options:r,dateError:m,onResetPage:c,openDateRange:i,onOpenDateRange:g,onCloseDateRange:u}){const a=G(),l=t.state.type.length?t.state.type.slice(0,2).join(","):"All type",s=x.useCallback(d=>{c(),t.setState({name:d.target.value})},[t,c]),n=x.useCallback(d=>{c(),t.setState({startDate:d})},[t,c]),h=x.useCallback(d=>{t.setState({endDate:d})},[t]),j=x.useCallback(d=>{const C=t.state.type.includes(d)?t.state.type.filter(o=>o!==d):[...t.state.type,d];t.setState({type:C})},[t]),b=x.useCallback(()=>{a.onClose(),t.setState({type:[]})},[t,a]),f=e.jsx(_e,{value:t.state.name,onChange:s,placeholder:"Search...",InputProps:{startAdornment:e.jsx(pe,{position:"start",children:e.jsx(p,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),y=e.jsxs(e.Fragment,{children:[e.jsxs(D,{color:"inherit",onClick:a.onOpen,endIcon:e.jsx(p,{icon:a.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[l,t.state.type.length>2&&e.jsxs(xe,{color:"info",sx:{ml:1},children:["+",t.state.type.length-2]})]}),e.jsx(K,{open:a.open,anchorEl:a.anchorEl,onClose:a.onClose,slotProps:{paper:{sx:{p:2.5}}},children:e.jsxs(w,{spacing:2.5,children:[e.jsx(F,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:r.types.map(d=>{const C=t.state.type.includes(d);return e.jsx(me,{onClick:()=>j(d),sx:{p:1,borderRadius:1,cursor:"pointer",border:o=>`solid 1px ${A(o.vars.palette.grey["500Channel"],.08)}`,...C&&{bgcolor:"action.selected"}},children:e.jsxs(w,{spacing:1,direction:"row",alignItems:"center",sx:{typography:"caption",textTransform:"capitalize",...C&&{fontWeight:"fontWeightSemiBold"}},children:[e.jsx(H,{file:d,sx:{width:24,height:24}}),d]})},d)})}),e.jsxs(w,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(D,{variant:"outlined",color:"inherit",onClick:b,children:"Clear"}),e.jsx(D,{variant:"contained",onClick:a.onClose,children:"Apply"})]})]})})]}),k=e.jsxs(e.Fragment,{children:[e.jsx(D,{color:"inherit",onClick:g,endIcon:e.jsx(p,{icon:i?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:t.state.startDate&&t.state.endDate?ne(t.state.startDate,t.state.endDate):"Select date"}),e.jsx(Ke,{variant:"calendar",startDate:t.state.startDate,endDate:t.state.endDate,onChangeStartDate:n,onChangeEndDate:h,open:i,onClose:u,selected:!!t.state.startDate&&!!t.state.endDate,error:m})]});return e.jsxs(w,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[f,e.jsxs(w,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[k,y]})]})}function qe({file:t,selected:r,onSelect:m,onDelete:c,sx:i,...g}){var X;const u=U(),a=v(),l=v(),s=v(),n=G(),h=v(),{copy:j}=ae(),b=v(t.isFavorited),[f,y]=x.useState(""),k=x.useCallback(R=>{y(R.target.value)},[]),d=x.useCallback(()=>{L.success("Copied!"),j(t.url)},[j,t.url]),C=e.jsx(F,{onMouseEnter:h.onTrue,onMouseLeave:h.onFalse,sx:{display:"inline-flex",width:36,height:36},children:(h.value||r)&&m?e.jsx(P,{checked:r,onClick:m,icon:e.jsx(p,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(p,{icon:"eva:checkmark-circle-2-fill"}),inputProps:{id:`item-checkbox-${t.id}`,"aria-label":"Item checkbox"},sx:{width:1,height:1}}):e.jsx(H,{file:t.type,sx:{width:1,height:1}})}),o=e.jsxs(w,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(P,{color:"warning",icon:e.jsx(p,{icon:"eva:star-outline"}),checkedIcon:e.jsx(p,{icon:"eva:star-fill"}),checked:b.value,onChange:b.onToggle,inputProps:{id:`favorite-checkbox-${t.id}`,"aria-label":"Favorite checkbox"}}),e.jsx(B,{color:n.open?"inherit":"default",onClick:n.onOpen,children:e.jsx(p,{icon:"eva:more-vertical-fill"})})]}),T=e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"subtitle2",onClick:s.onTrue,sx:{...ue({line:2,persistent:u.typography.subtitle2}),mt:2,mb:.5,width:1},children:t.name}),e.jsxs(w,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[se(t.size),e.jsx(F,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(E,{noWrap:!0,component:"span",variant:"caption",children:ge(t.modifiedAt)})]})]}),$=e.jsx(le,{max:3,sx:{mt:1,[`& .${te.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(X=t.shared)==null?void 0:X.map(R=>e.jsx(ee,{alt:R.name,src:R.avatarUrl},R.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(je,{variant:"outlined",sx:{p:2.5,display:"flex",borderRadius:2,cursor:"pointer",position:"relative",bgcolor:"transparent",flexDirection:"column",alignItems:"flex-start",...(h.value||r)&&{bgcolor:"background.paper",boxShadow:u.customShadows.z20},...i},...g,children:[C,T,$,o]}),e.jsx(K,{open:n.open,anchorEl:n.anchorEl,onClose:n.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(oe,{children:[e.jsxs(I,{onClick:()=>{n.onClose(),d()},children:[e.jsx(p,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(I,{onClick:()=>{n.onClose(),a.onTrue()},children:[e.jsx(p,{icon:"solar:share-bold"}),"Share"]}),e.jsx(_,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{onClick:()=>{l.onTrue(),n.onClose()},sx:{color:"error.main"},children:[e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})}),e.jsx(re,{item:t,favorited:b.value,onFavorite:b.onToggle,onCopyLink:d,open:s.value,onClose:s.onFalse,onDelete:()=>{s.onFalse(),c()}}),e.jsx(J,{open:a.value,shared:t.shared,inviteEmail:f,onChangeInvite:k,onCopyLink:d,onClose:()=>{a.onFalse(),y("")}}),e.jsx(V,{open:l.value,onClose:l.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(D,{variant:"contained",color:"error",onClick:c,children:"Delete"})})]})}function Qe({action:t,selected:r,rowCount:m,numSelected:c,onSelectAllItems:i,sx:g,...u}){return e.jsx(Ce,{children:e.jsxs(F,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:a=>a.spacing(1.5,2,1.5,1),boxShadow:a=>a.customShadows.z20,m:{xs:2,md:3},...g},...u,children:[e.jsx(P,{indeterminate:!!c&&c<m,checked:!!m&&c===m,onChange:a=>i(a.target.checked),icon:e.jsx(p,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(p,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(p,{icon:"eva:minus-circle-fill"})}),r&&e.jsxs(E,{variant:"subtitle2",sx:{mr:2,color:"common.white",[be.dark]:{color:"grey.800"}},children:[r.length," Items selected"]}),t&&t]})})}function et({table:t,dataFiltered:r,onDeleteItem:m,onOpenConfirm:c}){const{selected:i,onSelectRow:g,onSelectAllRows:u}=t,a=v(),l=v(),s=v(),n=v(),h=v(),j=x.useRef(null),[b,f]=x.useState(""),[y,k]=x.useState(""),d=x.useCallback(o=>{k(o.target.value)},[]),C=x.useCallback(o=>{f(o.target.value)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(F,{ref:j,children:[e.jsx(q,{title:"Folders",subtitle:`${r.filter(o=>o.type==="folder").length} folders`,onOpen:h.onTrue,collapse:n.value,onCollapse:n.onToggle}),e.jsx(Z,{in:!n.value,unmountOnExit:!0,children:e.jsx(F,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:r.filter(o=>o.type==="folder").map(o=>e.jsx(ze,{folder:o,selected:i.includes(o.id),onSelect:()=>g(o.id),onDelete:()=>m(o.id),sx:{maxWidth:"auto"}},o.id))})}),e.jsx(_,{sx:{my:5,borderStyle:"dashed"}}),e.jsx(q,{title:"Files",subtitle:`${r.filter(o=>o.type!=="folder").length} files`,onOpen:s.onTrue,collapse:l.value,onCollapse:l.onToggle}),e.jsx(Z,{in:!l.value,unmountOnExit:!0,children:e.jsx(F,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:r.filter(o=>o.type!=="folder").map(o=>e.jsx(qe,{file:o,selected:i.includes(o.id),onSelect:()=>g(o.id),onDelete:()=>m(o.id),sx:{maxWidth:"auto"}},o.id))})}),!!(i!=null&&i.length)&&e.jsx(Qe,{numSelected:i.length,rowCount:r.length,selected:i,onSelectAllItems:o=>u(o,r.map(T=>T.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(D,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),onClick:c,sx:{mr:1},children:"Delete"}),e.jsx(D,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(p,{icon:"solar:share-bold"}),onClick:a.onTrue,children:"Share"})]})})]}),e.jsx(J,{open:a.value,inviteEmail:y,onChangeInvite:d,onClose:()=>{a.onFalse(),k("")}}),e.jsx(W,{open:s.value,onClose:s.onFalse}),e.jsx(W,{open:h.value,onClose:h.onFalse,title:"New Folder",onCreate:()=>{h.onFalse(),f(""),console.info("CREATE NEW FOLDER",b)},folderName:b,onChangeFolderName:C})]})}function tt({filters:t,onResetPage:r,totalResults:m,sx:c}){const i=x.useCallback(()=>{r(),t.setState({name:""})},[t,r]),g=x.useCallback(l=>{const s=t.state.type.filter(n=>n!==l);r(),t.setState({type:s})},[t,r]),u=x.useCallback(()=>{r(),t.setState({startDate:null,endDate:null})},[t,r]),a=x.useCallback(()=>{r(),t.onResetState()},[t,r]);return e.jsxs(He,{totalResults:m,onReset:a,sx:c,children:[e.jsx(M,{label:"Types:",isShow:!!t.state.type.length,children:t.state.type.map(l=>x.createElement(O,{...z,key:l,label:l,onDelete:()=>g(l),sx:{textTransform:"capitalize"}}))}),e.jsx(M,{label:"Date:",isShow:!!(t.state.startDate&&t.state.endDate),children:e.jsx(O,{...z,label:ne(t.state.startDate,t.state.endDate),onDelete:u})}),e.jsx(M,{label:"Keyword:",isShow:!!t.state.name,children:e.jsx(O,{...z,label:t.state.name,onDelete:i})})]})}function ot(){const t=Ae({defaultRowsPerPage:10}),r=v(),m=v(),c=v(),[i,g]=x.useState("list"),[u,a]=x.useState(ve),l=fe({name:"",type:[],startDate:null,endDate:null}),s=ye(l.state.startDate,l.state.endDate),n=nt({inputData:u,comparator:Ee(t.order,t.orderBy),filters:l.state,dateError:s}),h=Pe(n,t.page,t.rowsPerPage),j=!!l.state.name||l.state.type.length>0||!!l.state.startDate&&!!l.state.endDate,b=!n.length&&j||!n.length,f=x.useCallback((o,T)=>{T!==null&&g(T)},[]),y=x.useCallback(o=>{const T=u.filter($=>$.id!==o);L.success("Delete success!"),a(T),t.onUpdatePageDeleteRow(h.length)},[h.length,t,u]),k=x.useCallback(()=>{const o=u.filter(T=>!t.selected.includes(T.id));L.success("Delete success!"),a(o),t.onUpdatePageDeleteRows({totalRowsInPage:h.length,totalRowsFiltered:n.length})},[n.length,h.length,t,u]),d=e.jsxs(w,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[e.jsx(Ze,{filters:l,dateError:s,onResetPage:t.onResetPage,openDateRange:r.value,onOpenDateRange:r.onTrue,onCloseDateRange:r.onFalse,options:{types:ke}}),e.jsxs(Ve,{size:"small",value:i,exclusive:!0,onChange:f,children:[e.jsx(Q,{value:"list",children:e.jsx(p,{icon:"solar:list-bold"})}),e.jsx(Q,{value:"grid",children:e.jsx(p,{icon:"mingcute:dot-grid-fill"})})]})]}),C=e.jsx(tt,{filters:l,totalResults:n.length,onResetPage:t.onResetPage});return e.jsxs(e.Fragment,{children:[e.jsxs(we,{children:[e.jsxs(w,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(E,{variant:"h4",children:"File manager"}),e.jsx(D,{variant:"contained",startIcon:e.jsx(p,{icon:"eva:cloud-upload-fill"}),onClick:c.onTrue,children:"Upload"})]}),e.jsxs(w,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[d,j&&C]}),b?e.jsx(Ie,{filled:!0,sx:{py:10}}):e.jsx(e.Fragment,{children:i==="list"?e.jsx(Ye,{table:t,dataFiltered:n,onDeleteRow:y,notFound:b,onOpenConfirm:m.onTrue}):e.jsx(et,{table:t,dataFiltered:n,onDeleteItem:y,onOpenConfirm:m.onTrue})})]}),e.jsx(W,{open:c.value,onClose:c.onFalse}),e.jsx(V,{open:m.value,onClose:m.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:e.jsx(D,{variant:"contained",color:"error",onClick:()=>{k(),m.onFalse()},children:"Delete"})})]})}function nt({inputData:t,comparator:r,filters:m,dateError:c}){const{name:i,type:g,startDate:u,endDate:a}=m,l=t.map((s,n)=>[s,n]);return l.sort((s,n)=>{const h=r(s[0],n[0]);return h!==0?h:s[1]-n[1]}),t=l.map(s=>s[0]),i&&(t=t.filter(s=>s.name.toLowerCase().indexOf(i.toLowerCase())!==-1)),g.length&&(t=t.filter(s=>g.includes(Se(s.type)))),c||u&&a&&(t=t.filter(s=>Te(s.createdAt,u,a))),t}const at={title:`File manager | Dashboard - ${Fe.site.name}`};function Vt(){return e.jsxs(e.Fragment,{children:[e.jsx(De,{children:e.jsxs("title",{children:[" ",at.title]})}),e.jsx(ot,{})]})}export{Vt as default};
