import{k as p,j as s,B as i,aB as c,S as h,T as x,aL as u,d as j,I as g}from"./index-BH9ijvcg.js";import{T as v}from"./TextField-DgF_8CdY.js";import{P as f}from"./Pagination-DOr1EQcv.js";function d({name:e,avatarUrl:t,message:n,tagUser:a,postedAt:r,hasReply:o}){const l=p();return s.jsxs(i,{sx:{pt:3,display:"flex",position:"relative",...o&&{pl:8}},children:[s.jsx(c,{alt:e,src:t,sx:{mr:2,width:48,height:48}}),s.jsxs(h,{flexGrow:1,sx:{pb:3,borderBottom:m=>`solid 1px ${m.vars.palette.divider}`},children:[s.jsx(x,{variant:"subtitle2",sx:{mb:.5},children:e}),s.jsx(x,{variant:"caption",sx:{color:"text.disabled"},children:u(r)}),s.jsxs(x,{variant:"body2",sx:{mt:1},children:[a&&s.jsxs(i,{component:"strong",sx:{mr:.5},children:["@",a]}),n]}),l.value&&s.jsx(i,{sx:{mt:2},children:s.jsx(v,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!o&&s.jsx(j,{size:"small",color:l.value?"primary":"inherit",startIcon:s.jsx(g,{icon:"solar:pen-bold",width:16}),onClick:l.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function A({comments:e=[]}){return s.jsxs(s.Fragment,{children:[e.map(t=>{const n=!!t.replyComment.length;return s.jsxs(i,{children:[s.jsx(d,{name:t.name,message:t.message,postedAt:t.postedAt,avatarUrl:t.avatarUrl}),n&&t.replyComment.map(a=>{const r=t.users.find(o=>o.id===a.userId);return s.jsx(d,{name:(r==null?void 0:r.name)||"",message:a.message,postedAt:a.postedAt,avatarUrl:(r==null?void 0:r.avatarUrl)||"",tagUser:a.tagUser,hasReply:!0},a.id)})]},t.id)}),s.jsx(f,{count:8,sx:{my:{xs:5,md:8},mx:"auto"}})]})}export{A as P};
