import{j as t,G as a,S as x,d as P,I as S,B as y,r as n,e as I,T as b,p as L,dx as c,H as C,C as B}from"./index-BSItzkt3.js";import{u as O,a as T}from"./blog-g_bG-jCO.js";import"./image-BuqYs7tq.js";import"./post-comment-form-D9jkEQzx.js";import"./html-to-markdown-CuRjBHl-.js";import{u as k}from"./use-debounce-CtY285jN.js";import{P as w}from"./_blog-C6iFTPs4.js";import{P as F}from"./post-skeleton-00ZeRUNf.js";import{P as G,a as d}from"./post-item-CFl0I8p4.js";import{P as v,a as H}from"./post-search-D1MGvgQK.js";import"./index-WR0nwbrK.js";import"./zod-BOXuI70n.js";import"./form-provider-IFaCVrX4.js";import"./TextField-DpdcsLRb.js";import"./Select-QPCMlUZ4.js";import"./Menu-Cy0n4kRw.js";import"./InputLabel-DqZ4yv4U.js";import"./FormLabel-Dg62SF9b.js";import"./FormHelperText-CBXzj8d7.js";import"./FormControl-1z33WGqh.js";import"./Rating-LRaLudfA.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-cOR4tKCy.js";import"./index-DC_o48Ax.js";import"./Slider-B4qW6LuH.js";import"./RadioGroup-DuXlXr3g.js";import"./FormGroup-DIAu_15X.js";import"./FormControlLabel-CtXEP1QR.js";import"./index-b5NUrSMh.js";import"./countries-DSLisFCy.js";import"./Autocomplete-B4c-hVbi.js";import"./Chip-CHY_XJWs.js";import"./country-select-B4qFdROS.js";import"./Checkbox-p5PKnry8.js";import"./upload-C5NUn5Ko.js";import"./preview-multi-file-C1SdoyfF.js";import"./format-number-BVcmMM5V.js";import"./file-thumbnail-J0C6dV__.js";import"./upload-avatar-DTAGrxFf.js";import"./avatar-url-S8pB8DFh.js";import"./DatePicker-BK0jorBV.js";import"./dialogTitleClasses-BJYaWiXv.js";import"./ListItem-Doeuyi4X.js";import"./DialogContent-CPx_wcNJ.js";import"./MobileDateTimePicker-Baldv5MM.js";import"./schema-helper-DeS_g_Vm.js";import"./markdown-DkFU1EoS.js";import"./empty-content-Cx4hswZg.js";import"./Zoom-DF_Z3Wyp.js";import"./Fab-y6_dLooR.js";import"./LoadingButton-HyVDRRh6.js";import"./Card-BqWDE3fr.js";import"./CardHeader-CavtfEuu.js";import"./Skeleton-CVH0eaWu.js";import"./CardContent-DE24Aeed.js";function Q({posts:r,loading:e}){const i=t.jsx(y,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(4, 1fr)"},children:t.jsx(F,{})}),p=t.jsxs(a,{container:!0,spacing:3,children:[r.slice(0,3).map((s,m)=>t.jsx(a,{xs:12,sm:6,md:4,lg:m===0?6:3,sx:{display:{xs:"none",lg:"block"}},children:t.jsx(G,{post:s,index:m})},s.id)),r.slice(0,3).map(s=>t.jsx(a,{xs:12,sm:6,md:4,lg:3,sx:{display:{lg:"none"}},children:t.jsx(d,{post:s})},s.id)),r.slice(3,r.length).map(s=>t.jsx(a,{xs:12,sm:6,md:4,lg:3,children:t.jsx(d,{post:s})},s.id))]});return t.jsxs(t.Fragment,{children:[e?i:p,r.length>8&&t.jsx(x,{alignItems:"center",sx:{mt:8,mb:{xs:10,md:15}},children:t.jsx(P,{size:"large",variant:"outlined",startIcon:t.jsx(S,{icon:"svg-spinners:12-dots-scale-rotate",width:24}),children:"Load More"})})]})}function R({posts:r,loading:e}){const[i,p]=n.useState("latest"),[s,m]=n.useState(""),l=k(s),{searchResults:u,searchLoading:h}=O(l),g=A({inputData:r,sortBy:i}),j=n.useCallback(o=>{p(o)},[]),f=n.useCallback(o=>{m(o)},[]);return t.jsxs(I,{children:[t.jsx(b,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Blog"}),t.jsxs(x,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},sx:{mb:{xs:3,md:5}},children:[t.jsx(v,{query:l,results:u,onSearch:f,loading:h,hrefItem:o=>L.post.details(o)}),t.jsx(H,{sort:i,onSort:j,sortOptions:w})]}),t.jsx(Q,{posts:g,loading:e})]})}const A=({inputData:r,sortBy:e})=>e==="latest"?c(r,["createdAt"],["desc"]):e==="oldest"?c(r,["createdAt"],["asc"]):e==="popular"?c(r,["totalViews"],["desc"]):r,E={title:`Post list - ${B.site.name}`};function Vt(){const{posts:r,postsLoading:e}=T();return t.jsxs(t.Fragment,{children:[t.jsx(C,{children:t.jsxs("title",{children:[" ",E.title]})}),t.jsx(R,{posts:r,loading:e})]})}export{Vt as default};
