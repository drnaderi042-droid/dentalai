import{j as t,e5 as m,B as f,bt as h,A as j,p as d,i as g,r as i,fa as C,H as b,C as E,dh as y,di as N}from"./index-BH9ijvcg.js";import{u as A}from"./use-params-Dab9jilC.js";import{C as I}from"./custom-breadcrumbs-C3JvxER0.js";import{a as w}from"./user-quick-edit-form-CsS94G_Y.js";import"./image-CxkC95SJ.js";import"./zod-DcsM6yCN.js";import"./form-provider-b5GXhABL.js";import"./TextField-DgF_8CdY.js";import"./Select-fMsy-Lkz.js";import"./Menu-C7S9TApF.js";import"./InputLabel-OzeQogzC.js";import"./FormLabel-Cn8enUsF.js";import"./FormHelperText-CAGzEAMm.js";import"./FormControl-rHOkSiGz.js";import"./Rating-BeEojfFm.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-BUp8U2Vl.js";import"./index-BVzUWzoE.js";import"./Slider-nP-7N9E2.js";import"./RadioGroup-7Oa-Pyj3.js";import"./FormGroup-BEVR9nif.js";import"./FormControlLabel-CVzZoZzb.js";import"./index-DVaqB1VX.js";import"./countries-DSLisFCy.js";import"./Autocomplete-Crt2raTS.js";import"./Chip-CWilL4Fh.js";import"./country-select-DjjsCD_N.js";import"./Checkbox-AhG6TMzi.js";import"./upload-BVxhxEL6.js";import"./preview-multi-file--Yn4-mQ8.js";import"./format-number-z67FV_-O.js";import"./file-thumbnail-GgYbZAeX.js";import"./upload-avatar-Dm2-m_zx.js";import"./avatar-url-votlVkc-.js";import"./DatePicker-Br6g6rY4.js";import"./dialogTitleClasses-CSmkbKpM.js";import"./ListItem-Ch3K_gMr.js";import"./DialogContent-CtzR1nPJ.js";import"./MobileDateTimePicker-CzN3TBFx.js";import"./schema-helper-DNntP_fU.js";import"./Card-CwEGl0A2.js";import"./LoadingButton-jh3yI-IT.js";import"./DialogTitle-BFho6EhL.js";function B({user:r,loading:o,error:s}){return o?t.jsx(m,{children:t.jsx(f,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:t.jsx(h,{})})}):s?t.jsx(m,{children:t.jsx(j,{severity:"error",sx:{mt:3},children:s})}):t.jsxs(m,{children:[t.jsx(I,{heading:"ویرایش کاربر",links:[{name:"داشبورد",href:d.dashboard.root},{name:"کاربران",href:d.dashboard.user.root},{name:(r==null?void 0:r.name)||(r==null?void 0:r.firstName)||"کاربر"}],sx:{mb:{xs:3,md:5}}}),t.jsx(w,{currentUser:r})]})}const F={title:`ویرایش کاربر | داشبورد - ${E.site.name}`};function Ct(){var l;const{id:r=""}=A(),{user:o}=g(),[s,p]=i.useState(null),[u,a]=i.useState(!0),[x,n]=i.useState(null);i.useEffect(()=>{(async()=>{if(!r){a(!1);return}try{a(!0);const e=await y.get(N.user.details(r));p(e.data),n(null)}catch(e){console.error("Error fetching user:",e),n(e.message||"خطا در دریافت اطلاعات کاربر"),p(null)}finally{a(!1)}})()},[r]);const c=(l=o==null?void 0:o.role)==null?void 0:l.toUpperCase();return!o||c!=="ADMIN"?t.jsx(C,{to:"/dashboard",replace:!0}):t.jsxs(t.Fragment,{children:[t.jsx(b,{children:t.jsxs("title",{children:[" ",F.title]})}),t.jsx(B,{user:s,loading:u,error:x})]})}export{Ct as default};
