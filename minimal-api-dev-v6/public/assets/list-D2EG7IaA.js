import{b9 as _,j as e,o as O,I as x,S as f,aB as $,aK as U,aL as Y,L as X,p as g,R as W,ar as q,B as y,T as j,dl as A,bb as V,bc as E,h as D,r as d,d as B,dm as Q,dn as Z,n as ee,be as te,cV as se,dp as L,az as ne,dq as oe,k as le,dr as P,fd as J,fg as re,ff as ae,fj as ie,fe as ce,fk as de,e5 as pe,dx as R,H as me,C as xe}from"./index-BH9ijvcg.js";import{E as he}from"./empty-content-CTwJtcn7.js";import{C as ue}from"./custom-breadcrumbs-C3JvxER0.js";import{b as be}from"./format-number-z67FV_-O.js";import{C as ye}from"./Card-CwEGl0A2.js";import{P as je,p as fe}from"./Pagination-DOr1EQcv.js";import{A as M}from"./Autocomplete-Crt2raTS.js";import{T as z}from"./TextField-DgF_8CdY.js";import{C as ge}from"./country-select-DjjsCD_N.js";import{F as I}from"./FormControlLabel-CVzZoZzb.js";import{C as N}from"./Checkbox-AhG6TMzi.js";import{a as Ce}from"./RadioGroup-7Oa-Pyj3.js";import{C as k}from"./Chip-CWilL4Fh.js";import{F as ke,a as T,c as v}from"./filters-result-C-KhAJgH.js";import"./job-new-edit-form-CdzWyXcy.js";import"./html-to-markdown-Daz6g1i5.js";import"./image-CxkC95SJ.js";import"./LastPage-DkhatgKI.js";import"./Select-fMsy-Lkz.js";import"./Menu-C7S9TApF.js";import"./InputLabel-OzeQogzC.js";import"./FormLabel-Cn8enUsF.js";import"./FormHelperText-CAGzEAMm.js";import"./FormControl-rHOkSiGz.js";import"./countries-DSLisFCy.js";import"./FormGroup-BEVR9nif.js";import"./zod-DcsM6yCN.js";import"./form-provider-b5GXhABL.js";import"./Rating-BeEojfFm.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-BUp8U2Vl.js";import"./index-BVzUWzoE.js";import"./Slider-nP-7N9E2.js";import"./index-DVaqB1VX.js";import"./upload-BVxhxEL6.js";import"./preview-multi-file--Yn4-mQ8.js";import"./file-thumbnail-GgYbZAeX.js";import"./upload-avatar-Dm2-m_zx.js";import"./avatar-url-votlVkc-.js";import"./DatePicker-Br6g6rY4.js";import"./dialogTitleClasses-CSmkbKpM.js";import"./ListItem-Ch3K_gMr.js";import"./DialogContent-CtzR1nPJ.js";import"./MobileDateTimePicker-CzN3TBFx.js";import"./schema-helper-DNntP_fU.js";import"./CardHeader-BBcGHbnO.js";import"./LoadingButton-jh3yI-IT.js";function Se({job:t,onView:i,onEdit:p,onDelete:r}){const s=_();return e.jsxs(e.Fragment,{children:[e.jsxs(ye,{children:[e.jsx(O,{onClick:s.onOpen,sx:{position:"absolute",top:8,right:8},children:e.jsx(x,{icon:"eva:more-vertical-fill"})}),e.jsxs(f,{sx:{p:3,pb:2},children:[e.jsx($,{alt:t.company.name,src:t.company.logo,variant:"rounded",sx:{width:48,height:48,mb:2}}),e.jsx(U,{sx:{mb:1},primary:e.jsx(X,{component:W,href:g.dashboard.job.details(t.id),color:"inherit",children:t.title}),secondary:`Posted date: ${Y(t.createdAt)}`,primaryTypographyProps:{typography:"subtitle1"},secondaryTypographyProps:{mt:1,component:"span",typography:"caption",color:"text.disabled"}}),e.jsxs(f,{spacing:.5,direction:"row",alignItems:"center",sx:{color:"primary.main",typography:"caption"},children:[e.jsx(x,{width:16,icon:"solar:users-group-rounded-bold"}),t.candidates.length," candidates"]})]}),e.jsx(q,{sx:{borderStyle:"dashed"}}),e.jsx(y,{rowGap:1.5,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",sx:{p:3},children:[{label:t.experience,icon:e.jsx(x,{width:16,icon:"carbon:skill-level-basic",sx:{flexShrink:0}})},{label:t.employmentTypes.join(", "),icon:e.jsx(x,{width:16,icon:"solar:clock-circle-bold",sx:{flexShrink:0}})},{label:t.salary.negotiable?"Negotiable":be(t.salary.price),icon:e.jsx(x,{width:16,icon:"solar:wad-of-money-bold",sx:{flexShrink:0}})},{label:t.role,icon:e.jsx(x,{width:16,icon:"solar:user-rounded-bold",sx:{flexShrink:0}})}].map(n=>e.jsxs(f,{spacing:.5,flexShrink:0,direction:"row",alignItems:"center",sx:{color:"text.disabled",minWidth:0},children:[n.icon,e.jsx(j,{variant:"caption",noWrap:!0,children:n.label})]},n.label))})]}),e.jsx(A,{open:s.open,anchorEl:s.anchorEl,onClose:s.onClose,slotProps:{arrow:{placement:"right-top"}},children:e.jsxs(V,{children:[e.jsxs(E,{onClick:()=>{s.onClose(),i()},children:[e.jsx(x,{icon:"solar:eye-bold"}),"View"]}),e.jsxs(E,{onClick:()=>{s.onClose(),p()},children:[e.jsx(x,{icon:"solar:pen-bold"}),"Edit"]}),e.jsxs(E,{onClick:()=>{s.onClose(),r()},sx:{color:"error.main"},children:[e.jsx(x,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]})})]})}function Te({jobs:t}){const i=D(),p=d.useCallback(n=>{i.push(g.dashboard.job.details(n))},[i]),r=d.useCallback(n=>{i.push(g.dashboard.job.edit(n))},[i]),s=d.useCallback(n=>{console.info("DELETE",n)},[]);return e.jsxs(e.Fragment,{children:[e.jsx(y,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:t.map(n=>e.jsx(Se,{job:n,onView:()=>p(n.id),onEdit:()=>r(n.id),onDelete:()=>s(n.id)},n.id))}),t.length>8&&e.jsx(je,{count:8,sx:{mt:{xs:8,md:8},[`& .${fe.ul}`]:{justifyContent:"center"}}})]})}function ve({sort:t,onSort:i,sortOptions:p}){const r=_();return e.jsxs(e.Fragment,{children:[e.jsxs(B,{disableRipple:!0,color:"inherit",onClick:r.onOpen,endIcon:e.jsx(x,{icon:r.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold"},children:["Sort by:",e.jsx(y,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold",textTransform:"capitalize"},children:t})]}),e.jsx(A,{open:r.open,anchorEl:r.anchorEl,onClose:r.onClose,children:e.jsx(V,{children:p.map(s=>e.jsx(E,{selected:s.value===t,onClick:()=>{r.onClose(),i(s.value)},children:s.label},s.value))})})]})}function Ee({search:t,onSearch:i}){const p=D(),r=n=>{p.push(g.dashboard.job.details(n))},s=n=>{if(t.state.query&&n.key==="Enter"){const a=t.state.results.filter(h=>h.title===t.state.query)[0];r(a.id)}};return e.jsx(M,{sx:{width:{xs:1,sm:260}},autoHighlight:!0,popupIcon:null,options:t.state.results,onInputChange:(n,a)=>i(a),getOptionLabel:n=>n.title,noOptionsText:e.jsx(te,{query:t.state.query}),isOptionEqualToValue:(n,a)=>n.id===a.id,renderInput:n=>e.jsx(z,{...n,placeholder:"Search...",onKeyUp:s,InputProps:{...n.InputProps,startAdornment:e.jsx(ee,{position:"start",children:e.jsx(x,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})})}}),renderOption:(n,a,{inputValue:h})=>{const l=Q(a.title,h),c=Z(a.title,l);return d.createElement(y,{component:"li",...n,onClick:()=>r(a.id),key:a.id},e.jsx("div",{children:c.map((m,S)=>e.jsx(j,{component:"span",color:m.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:m.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:m.text},S))}))}})}function we({open:t,canReset:i,onOpen:p,onClose:r,filters:s,options:n}){const a=d.useCallback(o=>{const b=s.state.employmentTypes.includes(o)?s.state.employmentTypes.filter(C=>C!==o):[...s.state.employmentTypes,o];s.setState({employmentTypes:b})},[s]),h=d.useCallback(o=>{s.setState({experience:o})},[s]),l=d.useCallback(o=>{s.setState({roles:o})},[s]),c=d.useCallback(o=>{s.setState({locations:o})},[s]),m=d.useCallback(o=>{const b=s.state.benefits.includes(o)?s.state.benefits.filter(C=>C!==o):[...s.state.benefits,o];s.setState({benefits:b})},[s]),S=e.jsxs(e.Fragment,{children:[e.jsxs(y,{display:"flex",alignItems:"center",sx:{py:2,pr:1,pl:2.5},children:[e.jsx(j,{variant:"h6",sx:{flexGrow:1},children:"Filters"}),e.jsx(se,{title:"Reset",children:e.jsx(O,{onClick:s.onResetState,children:e.jsx(L,{color:"error",variant:"dot",invisible:!i,children:e.jsx(x,{icon:"solar:restart-bold"})})})}),e.jsx(O,{onClick:r,children:e.jsx(x,{icon:"mingcute:close-line"})})]}),e.jsx(q,{sx:{borderStyle:"dashed"}})]}),u=e.jsxs(y,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Employment types"}),n.employmentTypes.map(o=>e.jsx(I,{control:e.jsx(N,{checked:s.state.employmentTypes.includes(o),onClick:()=>a(o)}),label:o},o))]}),w=e.jsxs(y,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Experience"}),n.experiences.map(o=>e.jsx(I,{control:e.jsx(Ce,{checked:o===s.state.experience,onClick:()=>h(o)}),label:o,sx:{...o==="all"&&{textTransform:"capitalize"}}},o))]}),F=e.jsxs(y,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1.5},children:"Roles"}),e.jsx(M,{multiple:!0,disableCloseOnSelect:!0,options:n.roles.map(o=>o),getOptionLabel:o=>o,value:s.state.roles,onChange:(o,b)=>l(b),renderInput:o=>e.jsx(z,{placeholder:"Select Roles",...o}),renderOption:(o,b)=>d.createElement("li",{...o,key:b},b),renderTags:(o,b)=>o.map((C,K)=>d.createElement(k,{...b({index:K}),key:C,label:C,size:"small",variant:"soft"}))})]}),H=e.jsxs(y,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1.5},children:"Locations"}),e.jsx(ge,{id:"multiple-locations",multiple:!0,fullWidth:!0,placeholder:s.state.locations.length?"+ Locations":"Select Locations",value:s.state.locations,onChange:(o,b)=>c(b)})]}),G=e.jsxs(y,{display:"flex",flexDirection:"column",children:[e.jsx(j,{variant:"subtitle2",sx:{mb:1},children:"Benefits"}),n.benefits.map(o=>e.jsx(I,{control:e.jsx(N,{checked:s.state.benefits.includes(o),onClick:()=>m(o)}),label:o},o))]});return e.jsxs(e.Fragment,{children:[e.jsx(B,{disableRipple:!0,color:"inherit",endIcon:e.jsx(L,{color:"error",variant:"dot",invisible:!i,children:e.jsx(x,{icon:"ic:round-filter-list"})}),onClick:p,children:"Filters"}),e.jsxs(ne,{anchor:"right",open:t,onClose:r,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[S,e.jsx(oe,{sx:{px:2.5,py:3},children:e.jsxs(f,{spacing:3,children:[u,w,F,H,G]})})]})]})}function Fe({filters:t,totalResults:i,sx:p}){const r=l=>{const c=t.state.employmentTypes.filter(m=>m!==l);t.setState({employmentTypes:c})},s=()=>{t.setState({experience:"all"})},n=l=>{const c=t.state.roles.filter(m=>m!==l);t.setState({roles:c})},a=l=>{const c=t.state.locations.filter(m=>m!==l);t.setState({locations:c})},h=l=>{const c=t.state.benefits.filter(m=>m!==l);t.setState({benefits:c})};return e.jsxs(ke,{totalResults:i,onReset:t.onResetState,sx:p,children:[e.jsx(T,{label:"Employment types:",isShow:!!t.state.employmentTypes.length,children:t.state.employmentTypes.map(l=>d.createElement(k,{...v,key:l,label:l,onDelete:()=>r(l)}))}),e.jsx(T,{label:"Experience:",isShow:t.state.experience!=="all",children:e.jsx(k,{...v,label:t.state.experience,onDelete:s})}),e.jsx(T,{label:"Roles:",isShow:!!t.state.roles.length,children:t.state.roles.map(l=>d.createElement(k,{...v,key:l,label:l,onDelete:()=>n(l)}))}),e.jsx(T,{label:"Locations:",isShow:!!t.state.locations.length,children:t.state.locations.map(l=>d.createElement(k,{...v,key:l,label:l,onDelete:()=>a(l)}))}),e.jsx(T,{label:"Benefits:",isShow:!!t.state.benefits.length,children:t.state.benefits.map(l=>d.createElement(k,{...v,key:l,label:l,onDelete:()=>h(l)}))})]})}function Re(){const t=le(),[i,p]=d.useState("latest"),r=P({query:"",results:[]}),s=P({roles:[],locations:[],benefits:[],experience:"all",employmentTypes:[]}),n=Ie({inputData:J,filters:s.state,sortBy:i}),a=s.state.roles.length>0||s.state.locations.length>0||s.state.benefits.length>0||s.state.employmentTypes.length>0||s.state.experience!=="all",h=!n.length&&a,l=d.useCallback(u=>{p(u)},[]),c=d.useCallback(u=>{if(r.setState({query:u}),u){const w=J.filter(F=>F.title.toLowerCase().indexOf(r.state.query.toLowerCase())!==-1);r.setState({results:w})}},[r]),m=e.jsxs(f,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[e.jsx(Ee,{search:r,onSearch:c}),e.jsxs(f,{direction:"row",spacing:1,flexShrink:0,children:[e.jsx(we,{filters:s,canReset:a,open:t.value,onOpen:t.onTrue,onClose:t.onFalse,options:{roles:ce,benefits:ie.map(u=>u.label),employmentTypes:ae.map(u=>u.label),experiences:["all",...re.map(u=>u.label)]}}),e.jsx(ve,{sort:i,onSort:l,sortOptions:de})]})]}),S=e.jsx(Fe,{filters:s,totalResults:n.length});return e.jsxs(pe,{children:[e.jsx(ue,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"Job",href:g.dashboard.job.root},{name:"List"}],action:e.jsx(B,{component:W,href:g.dashboard.job.new,variant:"contained",startIcon:e.jsx(x,{icon:"mingcute:add-line"}),children:"New job"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(f,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[m,a&&S]}),h&&e.jsx(he,{filled:!0,sx:{py:10}}),e.jsx(Te,{jobs:n})]})}const Ie=({inputData:t,filters:i,sortBy:p})=>{const{employmentTypes:r,experience:s,roles:n,locations:a,benefits:h}=i;return p==="latest"&&(t=R(t,["createdAt"],["desc"])),p==="oldest"&&(t=R(t,["createdAt"],["asc"])),p==="popular"&&(t=R(t,["totalViews"],["desc"])),r.length&&(t=t.filter(l=>l.employmentTypes.some(c=>r.includes(c)))),s!=="all"&&(t=t.filter(l=>l.experience===s)),n.length&&(t=t.filter(l=>n.includes(l.role))),a.length&&(t=t.filter(l=>l.locations.some(c=>a.includes(c)))),h.length&&(t=t.filter(l=>l.benefits.some(c=>h.includes(c)))),t},Oe={title:`Job list | Dashboard - ${xe.site.name}`};function vt(){return e.jsxs(e.Fragment,{children:[e.jsx(me,{children:e.jsxs("title",{children:[" ",Oe.title]})}),e.jsx(Re,{})]})}export{vt as default};
