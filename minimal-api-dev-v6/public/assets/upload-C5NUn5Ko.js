import{j as e,B as n,cs as D,S as y,aC as P,v as a,T as z,o as B,I as f,d as U}from"./index-BSItzkt3.js";import{u as S,M as E}from"./preview-multi-file-C1SdoyfF.js";import{a as L}from"./format-number-BVcmMM5V.js";import{f as M}from"./file-thumbnail-J0C6dV__.js";import{F as T}from"./FormHelperText-CBXzj8d7.js";function H({...r}){return e.jsxs(n,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},...r,children:[e.jsx(D,{hideBackground:!0,sx:{width:200}}),e.jsx(y,{spacing:1,sx:{textAlign:"center"},children:e.jsx(n,{sx:{typography:"h6"},children:"فایل را رها کنید یا انتخاب کنید"})})]})}function N({files:r}){return r.length?e.jsx(P,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:t=>a(t.vars.palette.error.mainChannel,.08)},children:r.map(({file:t,errors:o})=>{const{path:s,size:c}=M(t);return e.jsxs(n,{sx:{my:1},children:[e.jsxs(z,{variant:"subtitle2",noWrap:!0,children:[s," - ",c?L(c):""]}),o.map(l=>e.jsxs(n,{component:"span",sx:{typography:"caption"},children:["- ",l.message]},l.code))]},s)})}):null}function O({file:r}){const t=typeof r=="string"?r:r.name,o=typeof r=="string"?r:URL.createObjectURL(r);return e.jsx(n,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute",backgroundColor:"grey.100"},children:e.jsx(n,{component:"img",alt:t,src:o,sx:{width:1,height:1,borderRadius:1,objectFit:"cover",aspectRatio:"auto",backgroundColor:"grey.100",transition:"opacity 0.3s ease-in-out"},onLoad:s=>{s.currentTarget.style.backgroundColor="transparent"}})})}function W({sx:r,...t}){return e.jsx(B,{size:"small",sx:{top:16,right:16,zIndex:9,position:"absolute",color:o=>a(o.vars.palette.common.whiteChannel,.8),bgcolor:o=>a(o.vars.palette.grey["900Channel"],.72),"&:hover":{bgcolor:o=>a(o.vars.palette.grey["900Channel"],.48)},...r},...t,children:e.jsx(f,{icon:"mingcute:close-line",width:18})})}function V({sx:r,value:t,error:o,disabled:s,onDelete:c,onUpload:l,onRemove:v,thumbnail:x,helperText:d,onRemoveAll:$,multiple:h=!1,hideFileList:b=!1,hideUploadButton:g=!1,...C}){const{getRootProps:u,getInputProps:j,isDragActive:w,isDragReject:R,fileRejections:F}=S({multiple:h,disabled:s,...C}),m=Array.isArray(t)&&h,p=!m&&!!t,A=m&&!!t.length,I=R||!!o,k=A&&!b&&e.jsxs(e.Fragment,{children:[e.jsx(n,{sx:{minHeight:x?80:"auto",position:"relative"},children:e.jsx(E,{files:t,thumbnail:x,onRemove:v,sx:{my:3}})}),l&&e.jsx(y,{direction:"row",justifyContent:"flex-end",spacing:1.5,sx:{mt:3},children:e.jsx(U,{size:"small",variant:"contained",onClick:l,startIcon:e.jsx(f,{icon:"eva:cloud-upload-fill"}),children:"آپلود"})})]});return e.jsxs(n,{sx:{width:1,position:"relative",...r},children:[g?e.jsx(n,{...u(),sx:{display:"none"},children:e.jsx("input",{...j()})}):e.jsxs(n,{...u(),sx:{p:5,outline:"none",borderRadius:"16px",cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:i=>a(i.vars.palette.grey["500Channel"],.08),border:i=>`1px dashed ${a(i.vars.palette.grey["500Channel"],.2)}`,transition:i=>i.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...w&&{opacity:.72},...s&&{opacity:.48,pointerEvents:"none"},...I&&{color:"error.main",borderColor:"error.main",bgcolor:i=>a(i.vars.palette.error.mainChannel,.08)},...p&&{padding:"28% 0"}},children:[e.jsx("input",{...j()}),p?e.jsx(O,{file:t}):e.jsx(H,{})]}),p&&!g&&e.jsx(W,{onClick:c}),d&&e.jsx(T,{error:!!o,sx:{px:2},children:d}),e.jsx(N,{files:F}),k]})}export{N as R,V as U};
