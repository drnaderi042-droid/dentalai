import{h as S,i as I,r as P,k as L,l as B,j as e,S as a,L as m,R as f,n as E,o as F,I as T,A as v,T as u,p as k,q as M}from"./index-BSItzkt3.js";import{t as N,z as r}from"./zod-BOXuI70n.js";import{u as A,F as t,a as q}from"./form-provider-IFaCVrX4.js";import"./image-BuqYs7tq.js";import"./editor-cOR4tKCy.js";import{L as C}from"./LoadingButton-HyVDRRh6.js";const R=r.object({email:r.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:r.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function D(){const i=S(),{checkUserSession:o}=I(),[n,p]=P.useState(""),l=L(),c={email:"demo@minimals.cc",password:"@demo1"},d=A({resolver:N(R),defaultValues:c}),{handleSubmit:g,formState:{isSubmitting:j}}=d,b=g(async h=>{try{await B({email:h.email,password:h.password}),await(o==null?void 0:o()),i.refresh()}catch(s){console.error(s),p(s instanceof Error?s.message:s)}}),w=e.jsxs(a,{spacing:1.5,sx:{mb:5},children:[e.jsx(u,{variant:"h5",children:"Sign in to your account"}),e.jsxs(a,{direction:"row",spacing:.5,children:[e.jsx(u,{variant:"body2",sx:{color:"text.secondary"},children:"Don't have an account?"}),e.jsx(m,{component:f,href:k.auth.jwt.signUp,variant:"subtitle2",children:"Get started"})]})]}),y=e.jsxs(a,{spacing:3,children:[e.jsx(t.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsxs(a,{spacing:1.5,children:[e.jsx(m,{component:f,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(t.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:l.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(F,{onClick:l.onToggle,edge:"end",children:e.jsx(T,{icon:l.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(C,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Sign in...",children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[w,e.jsxs(v,{severity:"info",sx:{mb:3},children:["Use ",e.jsx("strong",{children:c.email})," with password ",e.jsx("strong",{children:c.password})]}),!!n&&e.jsx(v,{severity:"error",sx:{mb:3},children:n}),e.jsx(q,{methods:d,onSubmit:b,children:y})]})}const V=r.object({firstName:r.string().min(1,{message:"First name is required!"}),lastName:r.string().min(1,{message:"Last name is required!"}),email:r.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:r.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function K(){const{checkUserSession:i}=I(),o=S(),n=L(),[p,l]=P.useState(""),c={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@demo1"},d=A({resolver:N(V),defaultValues:c}),{handleSubmit:g,formState:{isSubmitting:j}}=d,b=g(async s=>{try{await M({email:s.email,password:s.password,firstName:s.firstName,lastName:s.lastName}),await(i==null?void 0:i()),o.refresh()}catch(x){console.error(x),l(x instanceof Error?x.message:x)}}),w=e.jsxs(a,{spacing:1.5,sx:{mb:5},children:[e.jsx(u,{variant:"h5",children:"Get started absolutely free"}),e.jsxs(a,{direction:"row",spacing:.5,children:[e.jsx(u,{variant:"body2",sx:{color:"text.secondary"},children:"Already have an account?"}),e.jsx(m,{component:f,href:k.auth.jwt.signIn,variant:"subtitle2",children:"Sign in"})]})]}),y=e.jsxs(a,{spacing:3,children:[e.jsxs(a,{direction:{xs:"column",sm:"row"},spacing:2,children:[e.jsx(t.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(t.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(t.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:n.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(F,{onClick:n.onToggle,edge:"end",children:e.jsx(T,{icon:n.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(C,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:j,loadingIndicator:"Create account...",children:"Create account"})]}),h=e.jsxs(u,{component:"div",sx:{mt:3,textAlign:"center",typography:"caption",color:"text.secondary"},children:["By signing up, I agree to ",e.jsx(m,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(m,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]});return e.jsxs(e.Fragment,{children:[w,!!p&&e.jsx(v,{severity:"error",sx:{mb:3},children:p}),e.jsx(q,{methods:d,onSubmit:b,children:y}),h]})}export{D as J,K as a};
