import{r as d,j as r,B as fe,S as L,cV as he,o as se,I as R,bc as Re,T as D,ar as lt,i as ct,dh as X,di as Y,dA as $,e as dt,cI as Je,d as je,A as ht,bt as ut,C as Ze}from"./index-BSItzkt3.js";import{U as ft}from"./upload-C5NUn5Ko.js";import"./image-BuqYs7tq.js";import{P}from"./index-b5NUrSMh.js";import{a as Ke}from"./color-preview-CjTlM1Ll.js";import{M as Qe}from"./Menu-Cy0n4kRw.js";import{D as Ge}from"./DialogTitle-D9mOMHyE.js";import{D as et}from"./DialogContent-CPx_wcNJ.js";import{D as tt}from"./dialogTitleClasses-BJYaWiXv.js";import{C as ke}from"./Card-BqWDE3fr.js";import{C as $e}from"./CardContent-DE24Aeed.js";import{F as gt}from"./FormControl-1z33WGqh.js";import{I as pt}from"./InputLabel-DqZ4yv4U.js";import{S as mt}from"./Select-QPCMlUZ4.js";import"./preview-multi-file-C1SdoyfF.js";import"./format-number-BVcmMM5V.js";import"./file-thumbnail-J0C6dV__.js";import"./FormHelperText-CBXzj8d7.js";import"./FormLabel-Dg62SF9b.js";const Ee=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F7DC6F","#BB8FCE","#85C1E9","#F8C471","#82E0AA"],ue=(j,C={})=>{if(C[j])return C[j];let I=0;for(let i=0;i<j.length;i++)I=j.charCodeAt(i)+((I<<5)-I);const u=Math.abs(I)%Ee.length;return Ee[u]};function nt({imageUrl:j,detections:C=[],onDetectionsChange:I}){var Oe,De,ye,we;const u=d.useRef(null),i=d.useRef(null),p=d.useRef(null),[E,re]=d.useState({width:0,height:0}),[B,oe]=d.useState({width:800,height:600}),[U,Fe]=d.useState(1),[N,ve]=d.useState({x:0,y:0}),[Q,ze]=d.useState(!1),[ae,Ce]=d.useState({x:0,y:0}),[q,Me]=d.useState(null),[z,ge]=d.useState(null),[W,Te]=d.useState({}),[V,ie]=d.useState(!0),[J,Le]=d.useState(!0),[g,Z]=d.useState(null),[m,G]=d.useState(null),[ee,Se]=d.useState(null),te=d.useRef(null),_=d.useRef(null),[A,le]=d.useState({width:0,height:0}),O=d.useCallback(()=>{if(!p.current||!i.current)return;const e=p.current,n=i.current.getBoundingClientRect().width,s=e.height/e.width,o=n*s,a=Math.min(o,600),c=n/e.width,l=a/e.height,h=Math.min(c,l,1);oe({width:e.width*h,height:e.height*h}),le({width:n,height:a})},[]),K=d.useCallback((e,t)=>{const n=u.current;if(!n)return null;const s=n.getBoundingClientRect();return{x:e-s.left,y:t-s.top}},[]),pe=d.useCallback((e,t)=>{if(!p.current||!u.current)return null;const n=p.current,s=u.current,o=s.width||A.width||0,a=s.height||A.height||0;if(o===0||a===0)return null;const l=Math.min(o/n.width,a/n.height,1)*U,h=n.width*l,x=n.height*l,f=(o-h)/2,v=(a-x)/2,w=(e-N.x-f)/l,y=(t-N.y-v)/l;for(let k=C.length-1;k>=0;k--){const S=C[k],{bbox:b}=S;if(b&&w>=b.x1&&w<=b.x2&&y>=b.y1&&y<=b.y2)return k}return null},[C,U,N,A]),me=d.useCallback(()=>{const e=u.current;if(!e||!p.current||!i.current)return;const t=e.getContext("2d");t.imageSmoothingEnabled=!0,t.imageSmoothingQuality="high";let n,s;if(A.width>0&&A.height>0)({width:n,height:s}=A);else{const v=i.current.getBoundingClientRect();n=Math.round(v.width),s=Math.round(v.height),A.width===0&&A.height===0&&le({width:n,height:s})}if(e.width!==n||e.height!==s||e.width===0||e.height===0){const v=window.devicePixelRatio||1;e.width=n*v,e.height=s*v,t.scale(v,v),e.style.width=`${n}px`,e.style.height=`${s}px`}t.clearRect(0,0,n,s);const o=p.current,c=Math.min(n/o.width,s/o.height,1)*U,l=o.width*c,h=o.height*c,x=(n-l)/2+N.x,f=(s-h)/2+N.y;t.drawImage(p.current,x,f,l,h),V&&C.forEach((v,w)=>{const{bbox:y,class_name:k}=v;if(!y)return;const S=ue(k,W),b=y.x1*c+x,F=y.y1*c+f,M=(y.x2-y.x1)*c,T=(y.y2-y.y1)*c,ne=q===w,Ye=z===w;t.lineWidth=1,t.strokeStyle=S,t.setLineDash([5,5]),t.strokeRect(b,F,M,T),t.fillStyle=S,t.globalAlpha=Ye?.4:ne?.3:.2,t.fillRect(b,F,M,T),t.globalAlpha=1}),J&&C.forEach((v,w)=>{const{bbox:y,class_name:k}=v;if(!y)return;ue(k,W);const S=y.x1*c+x,b=y.y1*c+f,F=(y.x2-y.x1)*c,M=S+F/2;let T=k;const ne=window.innerWidth<768,be=Math.max(ne?8:16,Math.min(ne?14:20,(ne?10:16)*c));t.font=`bold ${be}px "Yekan Bakh", Arial, sans-serif`,t.textAlign="center",t.textBaseline="bottom";const Ue=t.measureText(T),Ne=F*.9;if(Ue.width>Ne){for(;Ue.width>Ne&&T.length>0;)if(T=T.slice(0,-1),t.font=`bold ${be}px "Yekan Bakh", Arial, sans-serif`,t.measureText(`${T}...`).width<=Ne){T+="...";break}}const Xe=b-5;if(Xe>=be){const qe=t.measureText(T).width,rt=M-qe/2-4,ot=Xe-be-4,at=qe+4*2,it=be+4*2;t.fillStyle="rgba(0, 0, 0, 0.7)",t.fillRect(rt,ot,at,it),t.fillStyle="#fff",t.fillText(T,M,Xe)}})},[C,U,N,W,V,J,q,z,A]);d.useEffect(()=>{if(!j)return;if(p.current&&p.current.src===j){setTimeout(()=>{u.current&&p.current&&_.current&&(O(),_.current())},100);return}p.current&&(p.current.onload=null,p.current.onerror=null);const e=new window.Image;e.crossOrigin="anonymous";let t=!1;return e.onload=()=>{t||(p.current=e,re({width:e.width,height:e.height}),setTimeout(()=>{t||(O(),u.current&&p.current&&_.current&&_.current())},150))},e.onerror=()=>{t||console.error("Failed to load image:",j)},e.src=j,()=>{t=!0,e.onload=null,e.onerror=null}},[j,O]),d.useEffect(()=>{const e=()=>{O()};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[O]),d.useEffect(()=>{if(!i.current)return;const e=new ResizeObserver(t=>{for(const n of t){const{width:s,height:o}=n.contentRect;(Math.abs(s-A.width)>2||Math.abs(o-A.height)>2)&&(le({width:s,height:o}),setTimeout(()=>{u.current&&p.current&&_.current&&_.current()},50))}});return e.observe(i.current),()=>{e.disconnect()}},[A.width,A.height]),d.useEffect(()=>{if(!j||!p.current||!i.current)return;const e=i.current;let t=null;const n=()=>{u.current&&p.current&&_.current&&(O(),_.current())};if("IntersectionObserver"in window)t=new IntersectionObserver(s=>{s.forEach(o=>{o.isIntersecting&&o.intersectionRatio>0&&setTimeout(n,100)})},{threshold:.1}),t.observe(e);else{const s=()=>{const c=e.getBoundingClientRect();c.width>0&&c.height>0&&setTimeout(n,100)},o=setTimeout(s,200),a=setTimeout(s,500);return()=>{clearTimeout(o),clearTimeout(a)}}return()=>{t&&t.disconnect()}},[j,E.width,E.height,O]),d.useEffect(()=>(te.current&&cancelAnimationFrame(te.current),te.current=requestAnimationFrame(()=>{me()}),()=>{te.current&&cancelAnimationFrame(te.current)}),[C,U,N,W,V,J,q,z,B]);const H=e=>{const t=K(e.clientX,e.clientY);if(!t)return;const n=pe(t.x,t.y);n!==null&&ge(n)},_e=e=>{const t=K(e.clientX,e.clientY);if(!t)return;const n=pe(t.x,t.y);Me(n),u.current&&(u.current.style.cursor=n!==null?"pointer":"default")},Be=()=>{ze(!1)},Ie=()=>{ze(!1),Me(null)},ce=e=>{e.preventDefault();const t=K(e.clientX,e.clientY);if(!t)return;const n=pe(t.x,t.y);n!==null&&(ge(n),Z({mouseX:e.clientX,mouseY:e.clientY,detectionIndex:n}))},de=()=>{Z(null)},We=()=>{if(z!==null){const e=C.filter((t,n)=>n!==z);I&&I(e),ge(null)}},Ve=()=>{if((g==null?void 0:g.detectionIndex)!==null&&(g==null?void 0:g.detectionIndex)!==void 0){const e=C.filter((t,n)=>n!==g.detectionIndex);I&&I(e),ge(null)}de()},He=()=>{Fe(e=>Math.min(e*1.2,20))},xe=()=>{Fe(e=>Math.max(e/1.2,.1))},Ae=()=>{G(null),Se(null)},Pe=e=>{ee&&Te({...W,[ee]:e}),Ae()};return C.reduce((e,t)=>(e[t.class_name]||(e[t.class_name]=[]),e[t.class_name].push(t),e),{}),r.jsx(fe,{sx:{width:"100%",maxWidth:"100%"},children:r.jsxs(L,{spacing:2,children:[r.jsxs(L,{direction:"row",spacing:1,alignItems:"center",children:[r.jsx(he,{title:"Zoom In",children:r.jsx(se,{size:"small",onClick:He,children:r.jsx(R,{icon:"carbon:zoom-in"})})}),r.jsx(he,{title:"Zoom Out",children:r.jsx(se,{size:"small",onClick:xe,children:r.jsx(R,{icon:"carbon:zoom-out"})})}),r.jsx(he,{title:V?"Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø¨Ø§Ú©Ø³â€ŒÙ‡Ø§":"Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ú©Ø³â€ŒÙ‡Ø§",children:r.jsx(se,{size:"small",onClick:()=>ie(!V),color:"default",children:r.jsx(R,{icon:V?"solar:eye-bold":"solar:eye-closed-bold"})})}),r.jsx(he,{title:J?"Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù†Ø§Ù… Ù„Ù†Ø¯Ù…Ø§Ø±Ú©â€ŒÙ‡Ø§":"Ù†Ù…Ø§ÛŒØ´ Ù†Ø§Ù… Ù„Ù†Ø¯Ù…Ø§Ø±Ú©â€ŒÙ‡Ø§",children:r.jsx(se,{size:"small",onClick:()=>{Le(!J)},color:J?"primary":"default",children:r.jsx(R,{icon:J?"solar:tag-bold":"solar:tag-linear"})})}),z!==null&&C[z]&&r.jsxs(r.Fragment,{children:[r.jsx(he,{title:"ØªØºÛŒÛŒØ± Ø±Ù†Ú¯",children:r.jsx(se,{size:"small",onClick:e=>{if(e.stopPropagation(),e.preventDefault(),!C[z])return;const n=e.currentTarget.getBoundingClientRect(),s=n.right+10,o=n.top+n.height/2;g!==null&&g.detectionIndex===z?Z(null):Z({detectionIndex:z,mouseX:s,mouseY:o})},sx:{ml:"auto",bgcolor:ue((Oe=C[z])==null?void 0:Oe.class_name,W),color:"#FFFFFF","&:hover":{bgcolor:ue((De=C[z])==null?void 0:De.class_name,W)}},children:r.jsx(R,{icon:"carbon:color-palette"})})}),r.jsx(he,{title:"Ø­Ø°Ù",children:r.jsx(se,{size:"small",color:"error",onClick:e=>{e.stopPropagation(),We()},children:r.jsx(R,{icon:"humbleicons:times"})})})]})]}),r.jsx(Qe,{anchorEl:m&&typeof m=="object"&&!m.mouseX?m:null,open:!!m,onClose:Ae,anchorReference:typeof m=="object"&&(m==null?void 0:m.mouseX)!==void 0?"anchorPosition":"anchorEl",anchorPosition:typeof m=="object"&&(m==null?void 0:m.mouseX)!==void 0?{top:m.mouseY,left:m.mouseX}:void 0,anchorOrigin:{vertical:"center",horizontal:"right"},transformOrigin:{vertical:"center",horizontal:"left"},disableAutoFocusItem:!0,children:r.jsx(Re,{children:r.jsxs(L,{spacing:1,children:[r.jsxs(D,{variant:"caption",sx:{fontWeight:600},children:["Select color for: ",ee]}),r.jsx(Ke,{colors:Ee,selected:ee?W[ee]||ue(ee):null,onSelectColor:Pe})]})})}),r.jsx(fe,{ref:i,sx:{position:"relative",width:"100%",borderRadius:"12px",overflow:"hidden",bgcolor:"transparent",maxHeight:"600px",...E.width>0&&E.height>0&&{aspectRatio:`${E.width} / ${E.height}`,maxHeight:"600px"}},children:r.jsx(fe,{component:"canvas",ref:u,onMouseDown:H,onMouseMove:_e,onMouseUp:Be,onMouseLeave:Ie,onContextMenu:ce,sx:{display:"block",width:"100%",height:"100%",cursor:"default",borderRadius:"12px"}})}),r.jsxs(Qe,{open:g!==null,onClose:de,anchorReference:"anchorPosition",anchorPosition:g!==null?{top:Math.max(10,Math.min(g.mouseY,window.innerHeight-300)),left:Math.max(10,Math.min(g.mouseX,window.innerWidth-250))}:void 0,PaperProps:{sx:{minWidth:200,maxWidth:250}},MenuListProps:{"aria-labelledby":"color-picker-menu"},disableAutoFocusItem:!1,disableEnforceFocus:!1,children:[r.jsxs(fe,{sx:{px:2,py:1},children:[r.jsx(D,{variant:"caption",sx:{color:"text.secondary",display:"block",mb:1},children:"ØªØºÛŒÛŒØ± Ø±Ù†Ú¯:"}),r.jsx(Ke,{colors:Ee,selected:(g==null?void 0:g.detectionIndex)!==null&&(g==null?void 0:g.detectionIndex)!==void 0&&C[g.detectionIndex]?W[(ye=C[g.detectionIndex])==null?void 0:ye.class_name]||ue((we=C[g.detectionIndex])==null?void 0:we.class_name,W):"#000000",onSelectColor:e=>{if((g==null?void 0:g.detectionIndex)!==null&&(g==null?void 0:g.detectionIndex)!==void 0){const t=C[g.detectionIndex];t&&Te({...W,[t.class_name]:e})}de()}})]}),r.jsx(lt,{sx:{my:1}}),r.jsxs(Re,{onClick:Ve,sx:{color:"inherit"},children:[r.jsx(R,{icon:"solar:trash-bin-trash-bold",width:20,sx:{mr:1,color:"inherit"}}),"Ø­Ø°Ù"]})]}),C.length===0&&r.jsx(D,{variant:"body2",sx:{color:"text.secondary",textAlign:"center",py:2},children:"No detections to display"})]})})}nt.propTypes={imageUrl:P.string,detections:P.arrayOf(P.shape({class_name:P.string.isRequired,confidence:P.number.isRequired,bbox:P.shape({x1:P.number.isRequired,y1:P.number.isRequired,x2:P.number.isRequired,y2:P.number.isRequired})})),onDetectionsChange:P.func};const xt=.01;function Bt({initialImages:j=[],onEditCategory:C,onDeleteImage:I,patientId:u=null}){var ye,we;const{user:i}=ct(),[p,E]=d.useState([]),[re,B]=d.useState({}),[oe,U]=d.useState(!1),[Fe,N]=d.useState(new Set),[ve,Q]=d.useState(null),[ze,ae]=d.useState(j),Ce=d.useRef([]),[q,Me]=d.useState("fyp2"),[z,ge]=d.useState(.25),[W,Te]=d.useState(!1),[V,ie]=d.useState(!1),[J,Le]=d.useState(null),[g,Z]=d.useState([]),[m,G]=d.useState(null),[ee,Se]=d.useState(!1),[te,_]=d.useState(!1),[A,le]=d.useState(null),[O,K]=d.useState(!1),[pe,me]=d.useState(!1),[H,_e]=d.useState(null),Be=d.useCallback(async e=>{var t,n,s,o;if(e&&e.length>0){const a=e.map(l=>{const h=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,x=URL.createObjectURL(l);return{id:h,file:l,preview:x,uploading:!0}});E(l=>[...l,...a]);const c={};if(a.forEach(l=>{c[l.id]={preview:l.preview,detections:[],result:null}}),B(l=>({...l,...c})),Q(null),u&&(i!=null&&i.accessToken))try{const l=new FormData;e.forEach(w=>{l.append("images",w)}),l.append("category","intraoral");const h=await X.post(`${Y.patients}/${u}/images`,l,{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`,"Content-Type":"multipart/form-data"}});console.log("âœ… Files uploaded successfully:",h.data);const v=((await X.get(`${Y.patients}/${u}/images`,{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`}})).data.images||[]).filter(w=>w.category==="intraoral"||w.category==="lateral-intraoral"||w.category==="lateral-intraoral-left"||w.category==="frontal-intraoral"||w.category==="intra");ae(w=>{const y=new Set(w.map(S=>S.id)),k=v.filter(S=>!y.has(S.id));return[...w,...k]}),E(w=>w.map(y=>{if(y.uploading){const k=v.find(S=>{const b=y.file.name.toLowerCase(),F=(S.originalName||S.name||"").toLowerCase();return F.includes(b.substring(0,10))||F===b});if(k)return{...y,serverId:k.id,uploading:!1}}return y})),$.success(`${e.length} ØªØµÙˆÛŒØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯`)}catch(l){console.error("âŒ Error uploading files:",l);const h=((n=(t=l.response)==null?void 0:t.data)==null?void 0:n.error)||((o=(s=l.response)==null?void 0:s.data)==null?void 0:o.message)||l.message||"Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ";$.error(`Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ØªØµØ§ÙˆÛŒØ±: ${h}`),E(x=>x.map(f=>f.uploading?{...f,uploading:!1,uploadFailed:!0}:f))}}},[u,i==null?void 0:i.accessToken]);d.useEffect(()=>{ae(j)},[j]),d.useEffect(()=>{Ce.current=p},[p]);const Ie=d.useMemo(()=>(j==null?void 0:j.map(e=>e.path||e.id).join(","))||"",[j]),ce=d.useCallback(async()=>{var e,t;if(console.log("ðŸ“š [IntraOralView] loadAnalysisHistory called for patient:",u),!!u){Se(!0);try{console.log("ðŸ” [IntraOralView] Fetching patient data from API...");const n=await X.get(`${Y.patients}/${u}`,{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`}}),s=((e=n.data)==null?void 0:e.patient)||n.data;console.log("ðŸ“Š [IntraOralView] Patient data received:",{hasIntraOralAnalysis:!!s.intraOralAnalysis,intraOralAnalysisType:typeof s.intraOralAnalysis,intraOralAnalysisLength:((t=s.intraOralAnalysis)==null?void 0:t.length)||0});let o=[];if(s.intraOralAnalysis)try{const a=s.intraOralAnalysis;if(typeof a=="object")if(Array.isArray(a))o=a;else{const{analyses:c}=a;c&&Array.isArray(c)&&(o=c)}else if(typeof a=="string"){const c=a.trim();if(c.startsWith("{")||c.startsWith("[")){const l=JSON.parse(c);if(Array.isArray(l))o=l;else{const{analyses:h}=l;h&&Array.isArray(h)&&(o=h)}}}}catch(a){console.error("âŒ [IntraOralView] Failed to parse intraoral analysis:",a)}else console.log("âš ï¸ [IntraOralView] No intraOralAnalysis field in patient data");console.log("ðŸ“‹ [IntraOralView] Final analysis history:",o.length,"entries"),Z(o),o.length>0&&m===null&&G(o.length-1)}catch(n){console.error("Failed to load analysis history:",n)}finally{Se(!1)}}},[u,i==null?void 0:i.accessToken]);d.useEffect(()=>{Ie&&ie(!1)},[Ie]),d.useEffect(()=>{j&&j.length>0&&!V?(()=>{var n;const t=[];for(const s of j)try{let o=s.path;if(!(o!=null&&o.startsWith("http"))){const l=Ze.site.serverUrl||"http://localhost:7272",h=(n=s.path)!=null&&n.startsWith("/")?s.path:`/${s.path}`;o=`${l}${h}`}const a=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,c={name:s.originalName||s.name||`image-${Date.now()}.jpg`,path:s.path,preview:o,type:"image/jpeg",size:s.size||0,lastModified:s.createdAt?new Date(s.createdAt).getTime():Date.now()};t.push({id:a,serverId:s.id||null,file:c,preview:o,originalName:s.originalName||s.name||`image-${Date.now()}.jpg`})}catch(o){console.error(`Error loading image ${s.path}:`,o)}if(t.length>0){E(t);const s={};t.forEach(o=>{s[o.id]={preview:o.preview,detections:[],result:null}}),B(s),ie(!0)}else ie(!0)})():(!j||j.length===0)&&(ie(!1),E([]),B({}))},[j,V]);const de=d.useRef(null);d.useEffect(()=>{const e=`${u}-${i==null?void 0:i.accessToken}`;u&&(i!=null&&i.accessToken)&&de.current!==e&&(de.current=e,ce())},[u,i==null?void 0:i.accessToken,ce]),d.useEffect(()=>{if(g.length>0&&m!==null&&m<g.length){const e=g[m];if(e&&e.analyses&&Array.isArray(e.analyses)){const t={};e.analyses.forEach(n=>{var o;if(!n||!n.serverImageId)return;const s=p.find(a=>a.serverId&&String(a.serverId)===String(n.serverImageId));s&&n.result&&(t[s.id]={preview:s.preview,detections:((o=n.result)==null?void 0:o.detections)||[],result:n.result||null})}),Object.keys(t).length>0&&B(n=>({...n,...t}))}}},[m,g,p]);const We=d.useCallback(async e=>{var t,n,s,o;if(console.log("ðŸ—‘ï¸ [IntraOralView] handleDeleteImageFromServer called:",{patientId:u,imageId:e==null?void 0:e.id,image:e}),!u){console.warn("âš ï¸ [IntraOralView] Cannot delete image: missing patientId"),$.error("Ø´Ù†Ø§Ø³Ù‡ Ø¨ÛŒÙ…Ø§Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯");return}if(!(e!=null&&e.id)){console.warn("âš ï¸ [IntraOralView] Cannot delete image: missing image.id",e),$.error("Ø´Ù†Ø§Ø³Ù‡ ØªØµÙˆÛŒØ± ÛŒØ§ÙØª Ù†Ø´Ø¯");return}try{const a=await X.delete(`${Y.patients}/${u}/images`,{data:{imageId:e.id},headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`,"Content-Type":"application/json"}});console.log("âœ… [IntraOralView] Image deleted successfully:",a.data),$.success("ØªØµÙˆÛŒØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯"),ae(c=>{const l=c.filter(h=>h.id!==e.id);return console.log("ðŸ“ [IntraOralView] Updated localInitialImages:",{before:c.length,after:l.length,removedId:e.id}),l}),E(c=>{const l=c.find(h=>h.serverId===e.id);if(l){if(l.preview&&l.preview.startsWith("blob:"))try{URL.revokeObjectURL(l.preview)}catch(h){console.warn("âš ï¸ [IntraOralView] Error revoking blob URL:",h)}return c.filter(h=>h.serverId!==e.id)}return c}),B(c=>{const l={...c},h=Ce.current;return Object.keys(l).forEach(x=>{const f=h.find(v=>v.id===x);f&&f.serverId===e.id&&delete l[x]}),l}),I&&I(e)}catch(a){console.error("âŒ [IntraOralView] Error deleting image:",a);const c=((n=(t=a.response)==null?void 0:t.data)==null?void 0:n.error)||((o=(s=a.response)==null?void 0:s.data)==null?void 0:o.message)||a.message||"Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ";$.error(`Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ØªØµÙˆÛŒØ±: ${c}`)}},[u,i==null?void 0:i.accessToken,I]),Ve=d.useCallback(e=>{if(!e)return;const n=Ce.current.find(s=>{var o;return!!(s.file===e||(o=s.file)!=null&&o.path&&(e!=null&&e.path)&&s.file.path===e.path||s.preview&&(e!=null&&e.preview)&&s.preview===e.preview||s.file&&e&&s.file.name===e.name&&s.file.size===e.size)});if(n){n.preview&&n.preview.startsWith("blob:")&&URL.revokeObjectURL(n.preview);const s=n.id;E(o=>o.filter(a=>a.id!==s)),B(o=>{const a={...o};return delete a[s],a}),n.serverId&&u&&(i!=null&&i.accessToken)&&X.delete(`${Y.patients}/${u}/images`,{data:{imageId:n.serverId},headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`,"Content-Type":"application/json"}}).then(()=>{ae(o=>o.filter(a=>a.id!==n.serverId)),$.success("ØªØµÙˆÛŒØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯")}).catch(o=>{var c,l,h,x;console.error("Error deleting image from server:",o);const a=((l=(c=o.response)==null?void 0:c.data)==null?void 0:l.error)||((x=(h=o.response)==null?void 0:h.data)==null?void 0:x.message)||o.message||"Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ";$.error(`Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ØªØµÙˆÛŒØ± Ø§Ø² Ø³Ø±ÙˆØ±: ${a}`)})}},[u,i==null?void 0:i.accessToken]),He=d.useCallback(()=>{E(e=>(e.forEach(t=>{t.preview&&t.preview.startsWith("blob:")&&URL.revokeObjectURL(t.preview)}),[])),B({})},[]),xe=d.useCallback((e,t)=>{const n=e.filter(a=>(typeof a.confidence=="number"?a.confidence:parseFloat(a.confidence||0))>=xt);let s=[];if(t==="fyp2"){const a=n.filter(h=>h.class_name.toLowerCase().includes("canine")),c=n.filter(h=>h.class_name.toLowerCase().includes("molar")),l=n.filter(h=>!h.class_name.toLowerCase().includes("canine")&&!h.class_name.toLowerCase().includes("molar"));if(a.length>0){const h=a.reduce((x,f)=>f.confidence>x.confidence?f:x);s.push(h)}if(c.length>0){const h=c.reduce((x,f)=>f.confidence>x.confidence?f:x);s.push(h)}s=s.concat(l)}else t==="lateral"?n.length>0&&(s=[n.reduce((c,l)=>l.confidence>c.confidence?l:c)]):s=n;return s.map(a=>a.bbox?a:{...a,bbox:{x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}})},[]),Ae=async(e,t)=>{var n;try{N(f=>new Set(f).add(t));let s=e;if(!(e instanceof File)&&!(e instanceof Blob)){const f=e.preview||e.path||"";if(f){const w=await(await fetch(f)).blob(),y=e.name||`image-${Date.now()}.jpg`;s=new File([w],y,{type:w.type||"image/jpeg"})}else throw new Error("ØªØµÙˆÛŒØ± Ù…Ø¹ØªØ¨Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯")}const o=new FormData;o.append("file",s),o.append("model",q),o.append("conf",z.toString());const a=await fetch(`${((n=Ze.site.serverUrl)==null?void 0:n.replace(":7272",":5001"))||"http://localhost:5001"}/predict`,{method:"POST",body:o});if(!a.ok){const f=await a.json().catch(()=>({}));throw new Error(f.detail||`Ø®Ø·Ø§ÛŒ HTTP: ${a.status}`)}const c=await a.json();if(!c.success)throw new Error(c.error||"Ø®Ø·Ø§ Ø¯Ø± ØªØ´Ø®ÛŒØµ");const l=xe(c.detections||[],q),h={};l.forEach(f=>{h[f.class_name]||(h[f.class_name]={count:0,max_confidence:0}),h[f.class_name].count+=1,h[f.class_name].max_confidence=Math.max(h[f.class_name].max_confidence,f.confidence)});const x={...c,detections:l,total_detections:l.length,summary:h};return B(f=>({...f,[t]:{...f[t],detections:l,result:x}})),x}catch(s){return console.error(`Ø®Ø·Ø§ Ø¯Ø± ØªØ´Ø®ÛŒØµ Ø¨Ø±Ø§ÛŒ Ø¹Ú©Ø³ ${t}:`,s),Q(s.message||"Ø®Ø·Ø§ Ø¯Ø± Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆØ± AI. Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø­Ø§ØµÙ„ Ú©Ù†ÛŒØ¯ unified_ai_api_server.py Ø±ÙˆÛŒ port 5001 Ø¯Ø± Ø­Ø§Ù„ Ø§Ø¬Ø±Ø§Ø³Øª."),null}finally{N(s=>{const o=new Set(s);return o.delete(t),o})}},Pe=d.useCallback(async(e=null,t=null)=>{var o,a,c,l,h,x;if(console.log("ðŸ”„ [IntraOralView] saveAnalysis called with:",{patientId:u,hasResults:!!e,resultsCount:e?Object.keys(e).length:0,filesCount:t?t.length:p?p.length:0}),!u){console.warn("Cannot save analysis: patientId is missing");return}const n=e||re,s=t||p;try{const f=await X.get(`${Y.patients}/${u}`,{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`}}),v=((o=f.data)==null?void 0:o.patient)||f.data;let w=[];if(v.intraOralAnalysis)try{const b=v.intraOralAnalysis;if(typeof b=="object")Array.isArray(b)?w=b:b.analyses&&Array.isArray(b.analyses)&&(w=b.analyses);else if(typeof b=="string"){const F=b.trim();if(F.startsWith("{")||F.startsWith("[")){const M=JSON.parse(F);Array.isArray(M)?w=M:M.analyses&&Array.isArray(M.analyses)&&(w=M.analyses)}}}catch(b){console.error("Failed to parse existing history:",b)}const y=[];if(Object.keys(n).forEach(b=>{var T;const F=(T=n[b])==null?void 0:T.result,M=s.find(ne=>ne.id===b);F&&M&&y.push({serverImageId:M.serverId||null,result:F})}),y.length===0){console.warn("No analysis results to save");return}const k={id:`analysis_${Date.now()}`,timestamp:new Date().toISOString(),analyses:y},S=[...w,k];console.log("ðŸ“¤ [IntraOralView] Sending data to API:",{patientId:u,dataSize:JSON.stringify(S).length,analysisCount:S.length,sampleAnalysis:S[0]?{id:S[0].id,timestamp:S[0].timestamp,analysesCount:((a=S[0].analyses)==null?void 0:a.length)||0}:null}),await X.put(`${Y.patients}/${u}`,{intraOralAnalysis:JSON.stringify(S)},{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`,"Content-Type":"application/json"}}),console.log("âœ… Intraoral analysis saved to history"),$.success(`âœ… Ù†ØªØ§ÛŒØ¬ Ø¢Ù†Ø§Ù„ÛŒØ² Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ (${y.length} ØªØµÙˆÛŒØ±)`),await ce(),G(null)}catch(f){console.error("âŒ Failed to save intraoral analysis:",f);const v=((l=(c=f.response)==null?void 0:c.data)==null?void 0:l.error)||((x=(h=f.response)==null?void 0:h.data)==null?void 0:x.message)||f.message||"Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ";$.error(`Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ù†ØªØ§ÛŒØ¬ Ø¢Ù†Ø§Ù„ÛŒØ²: ${v}`)}},[u,re,p,i==null?void 0:i.accessToken,ce]),Oe=async()=>{if(console.log("ðŸš€ [IntraOralView] handleDetect called - starting analysis"),p.length===0){Q("Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ ØªØµÙˆÛŒØ± Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯");return}console.log("ðŸ“Š [IntraOralView] Starting analysis for",p.length,"images"),U(!0),Q(null);try{const e=await Promise.all(p.map(n=>Ae(n.file,n.id))),t={};if(e.forEach((n,s)=>{var o;if(n){const a=(o=p[s])==null?void 0:o.id;a&&(t[a]={preview:p[s].preview,detections:n.detections||[],result:n})}}),Object.keys(t).length>0){const n={...re,...t};B(n),await Pe(n,p)}}catch(e){console.error("Ø®Ø·Ø§ Ø¯Ø± ØªØ´Ø®ÛŒØµ:",e),Q(e.message||"Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø±Ø¯Ø§Ø²Ø´ ØªØµØ§ÙˆÛŒØ±")}finally{U(!1)}},De=d.useCallback(async(e,t)=>{const n=xe(t,q);if(B(s=>s[e]?{...s,[e]:{...s[e],detections:n,result:s[e].result?{...s[e].result,detections:n,total_detections:n.length}:null}}:s),m!==null&&g.length>0&&u)try{const s=[...g],o=s[m];if(o&&o.analyses){const a=o.analyses.findIndex(c=>{var h;const l=((h=p.find(x=>x.id===e))==null?void 0:h.serverId)||e;return c.imageId===l||c.imageId===e});a!==-1&&(s[m]={...o,analyses:o.analyses.map((c,l)=>l===a?{...c,result:{...c.result,detections:n,total_detections:n.length}}:c)},await X.put(`${Y.patients}/${u}`,{intraOralAnalysis:JSON.stringify(s)},{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`,"Content-Type":"application/json"}}),Z(s),$.success("ØªØºÛŒÛŒØ±Ø§Øª Ù„Ù†Ø¯Ù…Ø§Ø±Ú©â€ŒÙ‡Ø§ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯"))}}catch(s){console.error("âŒ [IntraOralView] Error saving detection changes:",s),$.error("Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª Ù„Ù†Ø¯Ù…Ø§Ø±Ú©â€ŒÙ‡Ø§")}},[q,xe,m,g,u,p,i==null?void 0:i.accessToken]);return r.jsx(dt,{maxWidth:"xl",children:r.jsxs(L,{spacing:3,children:[r.jsxs(L,{direction:"row",alignItems:"center",spacing:2,children:[r.jsx(R,{icon:"solar:teeth-bold",width:40}),r.jsx(fe,{children:r.jsx(D,{variant:"h6",children:"Ø¢Ù†Ø§Ù„ÛŒØ² Ø¹Ú©Ø³â€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ Ø¯Ù‡Ø§Ù†ÛŒ"})})]}),r.jsxs(Je,{open:pe,onClose:()=>!O&&me(!1),children:[r.jsx(Ge,{children:"Ø­Ø°Ù ØªØµÙˆÛŒØ±"}),r.jsxs(et,{children:[r.jsx(D,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ØªØµÙˆÛŒØ± Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ø§Ø³Øª."}),H&&r.jsxs(D,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Ù†Ø§Ù… ÙØ§ÛŒÙ„: ",H.originalName||`ØªØµÙˆÛŒØ±-${H.id}`]})]}),r.jsxs(tt,{children:[r.jsx(je,{onClick:()=>me(!1),color:"inherit",disabled:O,children:"Ø§Ù†ØµØ±Ø§Ù"}),r.jsx(je,{onClick:async()=>{var e,t,n,s;if(!H){console.warn("âš ï¸ [IntraOralView] No image to delete");return}console.log("ðŸ—‘ï¸ [IntraOralView] Delete button clicked:",{imageToDelete:H,patientId:u,hasOnDeleteImage:!!I});try{K(!0),u?(console.log("ðŸ“ž [IntraOralView] Deleting image with patientId"),await We(H),I&&I(H)):I?(console.log("ðŸ“ž [IntraOralView] Calling onDeleteImage prop (no patientId)"),I(H),ae(o=>o.filter(a=>a.id!==H.id))):(console.warn("âš ï¸ [IntraOralView] Cannot delete: no patientId and no onDeleteImage"),$.error("Ø§Ù…Ú©Ø§Ù† Ø­Ø°Ù ØªØµÙˆÛŒØ± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯. Ø´Ù†Ø§Ø³Ù‡ Ø¨ÛŒÙ…Ø§Ø± ÛŒØ§ÙØª Ù†Ø´Ø¯.")),me(!1),_e(null)}catch(o){console.error("âŒ [IntraOralView] Error deleting image:",o);const a=((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.error)||((s=(n=o.response)==null?void 0:n.data)==null?void 0:s.message)||o.message||"Ø®Ø·Ø§ÛŒ Ù†Ø§Ù…Ø´Ø®Øµ";$.error(`Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù ØªØµÙˆÛŒØ±: ${a}`)}finally{K(!1)}},color:"error",variant:"contained",disabled:O,startIcon:O?r.jsx(R,{icon:"eva:loader-fill"}):r.jsx(R,{icon:"solar:trash-bin-trash-bold"}),children:O?"Ø¯Ø± Ø­Ø§Ù„ Ø­Ø°Ù...":"Ø­Ø°Ù"})]})]}),r.jsxs(L,{direction:{xs:"column",md:"row"},spacing:3,children:[r.jsxs(L,{spacing:3,sx:{flex:1,order:{xs:1,md:1}},children:[ve&&r.jsxs(ht,{severity:"error",onClose:()=>Q(null),icon:r.jsx(R,{icon:"solar:danger-triangle-bold"}),children:[r.jsx(D,{variant:"subtitle2",children:"Ø®Ø·Ø§ Ø¯Ø± ØªØ´Ø®ÛŒØµ"}),r.jsx(D,{variant:"body2",sx:{mt:.5},children:ve})]}),p.map(e=>{const t=re[e.id],n=(t==null?void 0:t.detections)||[];return t==null||t.result,r.jsx(ke,{sx:{mb:2},children:r.jsx($e,{children:r.jsxs(L,{spacing:2,children:[r.jsx(L,{direction:"row",justifyContent:"space-between",alignItems:"center",children:r.jsxs(D,{variant:"h6",children:["ØªØµÙˆÛŒØ± ",p.indexOf(e)+1]})}),e.preview&&r.jsx(nt,{imageUrl:e.preview,detections:n,onDetectionsChange:s=>De(e.id,s)})]})})},e.id)}),p.length===0&&!ve&&!oe&&V&&r.jsx(ke,{children:r.jsx($e,{children:r.jsxs(L,{spacing:2,alignItems:"center",sx:{py:4},children:[r.jsx(R,{icon:"solar:scan-bold",width:64,sx:{color:"text.disabled",mb:2}}),r.jsx(D,{variant:"h6",sx:{color:"text.secondary"},children:"Ø¢Ù…Ø§Ø¯Ù‡ ØªØ´Ø®ÛŒØµ"}),r.jsx(D,{variant:"body2",sx:{color:"text.disabled",textAlign:"center"},children:'ÛŒÚ© ÛŒØ§ Ú†Ù†Ø¯ ØªØµÙˆÛŒØ± Ø¯Ø§Ø®Ù„ Ø¯Ù‡Ø§Ù†ÛŒ Ø±Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ø±Ø¯Ù‡ Ùˆ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ "Ø¢Ù†Ø§Ù„ÛŒØ²" Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯'})]})})})]}),r.jsxs(L,{spacing:3,sx:{width:{xs:"100%",md:"400px"},order:{xs:2,md:2}},children:[u&&r.jsx(ke,{children:r.jsx($e,{children:r.jsxs(L,{spacing:2,children:[r.jsx(D,{variant:"h6",children:"ðŸ“‹ ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø¢Ù†Ø§Ù„ÛŒØ²"}),r.jsxs(L,{direction:"row",spacing:1,alignItems:"flex-start",children:[r.jsxs(gt,{fullWidth:!0,size:"small",children:[r.jsx(pt,{children:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¢Ù†Ø§Ù„ÛŒØ² Ø§Ø² ØªØ§Ø±ÛŒØ®Ú†Ù‡"}),r.jsx(mt,{value:m!==null?m:"",onChange:e=>G(e.target.value!==""?Number(e.target.value):null),label:"Ø§Ù†ØªØ®Ø§Ø¨ Ø¢Ù†Ø§Ù„ÛŒØ² Ø§Ø² ØªØ§Ø±ÛŒØ®Ú†Ù‡",disabled:g.length===0,children:g.length>0?g.map((e,t)=>{var n;return r.jsx(Re,{value:t,children:r.jsxs(fe,{sx:{width:"100%"},children:[r.jsxs(D,{variant:"body2",children:["Ø¢Ù†Ø§Ù„ÛŒØ² ",t+1," - ",((n=e.analyses)==null?void 0:n.length)||0," ØªØµÙˆÛŒØ±"]}),r.jsx(D,{variant:"caption",color:"text.secondary",children:e.timestamp?new Date(e.timestamp).toLocaleDateString("fa-IR",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"ØªØ§Ø±ÛŒØ® Ù†Ø§Ù…Ø´Ø®Øµ"})]})},t)}):r.jsx(Re,{value:"",disabled:!0,children:r.jsx(D,{variant:"body2",color:"text.secondary",children:"Ù‡ÛŒÚ† Ø¢Ù†Ø§Ù„ÛŒØ² Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡â€ŒØ§ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯"})})})]}),m!==null&&g.length>0&&r.jsx(se,{color:"error",size:"small",onClick:()=>{const e=g[m];e&&(le({index:m,analysis:e}),_(!0))},sx:{mt:1.5},children:r.jsx(R,{icon:"solar:trash-bin-trash-bold",width:20})})]})]})})}),r.jsxs(Je,{open:te,onClose:()=>!O&&_(!1),children:[r.jsx(Ge,{children:"Ø­Ø°Ù Ø¢Ù†Ø§Ù„ÛŒØ² Ø¯Ø§Ø®Ù„ Ø¯Ù‡Ø§Ù†"}),r.jsxs(et,{children:[r.jsx(D,{children:"Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø¢Ù†Ø§Ù„ÛŒØ² Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ø§Ø³Øª."}),A&&r.jsxs(D,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["ØªØ¹Ø¯Ø§Ø¯ ØªØµØ§ÙˆÛŒØ±: ",((we=(ye=A.analysis)==null?void 0:ye.analyses)==null?void 0:we.length)||0]})]}),r.jsxs(tt,{children:[r.jsx(je,{onClick:()=>_(!1),color:"inherit",disabled:O,children:"Ø§Ù†ØµØ±Ø§Ù"}),r.jsx(je,{onClick:async()=>{if(!(!A||!u))try{K(!0);const e=g.filter((t,n)=>n!==A.index);await X.put(`${Y.patients}/${u}`,{intraOralAnalysis:e.length>0?JSON.stringify(e):null},{headers:{Authorization:`Bearer ${i==null?void 0:i.accessToken}`,"Content-Type":"application/json"}}),Z(e),e.length>0?G(0):(G(null),Le(null)),$.success("Ø¢Ù†Ø§Ù„ÛŒØ² Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø­Ø°Ù Ø´Ø¯"),_(!1),le(null)}catch(e){console.error("Error deleting analysis:",e),$.error("Ø®Ø·Ø§ Ø¯Ø± Ø­Ø°Ù Ø¢Ù†Ø§Ù„ÛŒØ²")}finally{K(!1)}},color:"error",variant:"contained",disabled:O,startIcon:O?r.jsx(R,{icon:"eva:loader-fill"}):r.jsx(R,{icon:"solar:trash-bin-trash-bold"}),children:O?"Ø¯Ø± Ø­Ø§Ù„ Ø­Ø°Ù...":"Ø­Ø°Ù"})]})]}),r.jsx(ke,{children:r.jsx($e,{children:r.jsxs(L,{spacing:2,children:[r.jsx(D,{variant:"h6",children:"ðŸ“· ØªØµØ§ÙˆÛŒØ±"}),r.jsx(ft,{multiple:!0,thumbnail:!0,hideUploadButton:!0,value:p.map(e=>e.file),onDrop:Be,onRemove:Ve,onRemoveAll:He})]})})}),r.jsx(je,{fullWidth:!0,size:"medium",variant:"contained",color:"primary",onClick:Oe,disabled:oe||p.length===0,sx:{mb:"10px"},startIcon:oe?r.jsx(ut,{size:16,sx:{color:"inherit"}}):r.jsx(R,{icon:"solar:scan-bold",width:20}),children:oe?"Ø¯Ø± Ø­Ø§Ù„ Ù¾Ø±Ø¯Ø§Ø²Ø´":"Ø¢Ù†Ø§Ù„ÛŒØ²"})]})]})]})})}export{Bt as IntraOralView};
