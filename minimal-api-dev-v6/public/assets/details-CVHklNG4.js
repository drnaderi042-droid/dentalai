import{j as n,o as m,I as o,S as e,aB as T,T as b,B as i,d as g,L as I,ar as u,dq as C,aK as k,b9 as v,R as D,dd as O,ef as h,dl as P,bb as B,bc as N,aC as F,r as w,e5 as L,e_ as E,p as R,G as f,eY as A,H,C as $}from"./index-BH9ijvcg.js";import{u as G}from"./use-params-Dab9jilC.js";import"./order-list-view-C51olhlE.js";import{C as j}from"./CardHeader-BBcGHbnO.js";import{C as y}from"./Card-CwEGl0A2.js";import{b as p}from"./format-number-z67FV_-O.js";import{T as _,a as U,b as q,c as z,d as M,e as W,t as K}from"./TimelineItem-sF7eql-w.js";import"./confirm-dialog-U4gI9R8N.js";import"./DialogTitle-BFho6EhL.js";import"./dialogTitleClasses-CSmkbKpM.js";import"./DialogContent-CtzR1nPJ.js";import"./custom-breadcrumbs-C3JvxER0.js";import"./table-selected-action-BoGEyWv0.js";import"./Checkbox-AhG6TMzi.js";import"./table-no-data-DkwRy3n-.js";import"./empty-content-CTwJtcn7.js";import"./TableHead-CgILorvc.js";import"./TableCell-C_iRAQPi.js";import"./table-empty-rows-DGVXR25q.js";import"./table-head-custom-DVMZJ-e5.js";import"./table-pagination-custom-C6u0JfTk.js";import"./TablePagination-B44FLsH8.js";import"./LastPage-DkhatgKI.js";import"./Select-fMsy-Lkz.js";import"./Menu-C7S9TApF.js";import"./FormControlLabel-CVzZoZzb.js";import"./DatePicker-Br6g6rY4.js";import"./index-DVaqB1VX.js";import"./InputLabel-OzeQogzC.js";import"./FormLabel-Cn8enUsF.js";import"./visuallyHidden-Dan1xhjv.js";import"./FormHelperText-CAGzEAMm.js";import"./FormControl-rHOkSiGz.js";import"./TextField-DgF_8CdY.js";import"./ListItem-Ch3K_gMr.js";import"./Chip-CWilL4Fh.js";import"./filters-result-C-KhAJgH.js";function V({customer:s,delivery:t,payment:l,shippingAddress:a}){const x=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Customer info",action:n.jsx(m,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(e,{direction:"row",sx:{p:3},children:[n.jsx(T,{alt:s==null?void 0:s.name,src:s==null?void 0:s.avatarUrl,sx:{width:48,height:48,mr:2}}),n.jsxs(e,{spacing:.5,alignItems:"flex-start",sx:{typography:"body2"},children:[n.jsx(b,{variant:"subtitle2",children:s==null?void 0:s.name}),n.jsx(i,{sx:{color:"text.secondary"},children:s==null?void 0:s.email}),n.jsxs("div",{children:["IP address:",n.jsx(i,{component:"span",sx:{color:"text.secondary",ml:.25},children:s==null?void 0:s.ipAddress})]}),n.jsx(g,{size:"small",color:"error",startIcon:n.jsx(o,{icon:"mingcute:add-line"}),sx:{mt:1},children:"Add to Blacklist"})]})]})]}),d=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Delivery",action:n.jsx(m,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(e,{spacing:1.5,sx:{p:3,typography:"body2"},children:[n.jsxs(e,{direction:"row",alignItems:"center",children:[n.jsx(i,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Ship by"}),t==null?void 0:t.shipBy]}),n.jsxs(e,{direction:"row",alignItems:"center",children:[n.jsx(i,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Speedy"}),t==null?void 0:t.speedy]}),n.jsxs(e,{direction:"row",alignItems:"center",children:[n.jsx(i,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Tracking No."}),n.jsx(I,{underline:"always",color:"inherit",children:t==null?void 0:t.trackingNumber})]})]})]}),c=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Shipping",action:n.jsx(m,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(e,{spacing:1.5,sx:{p:3,typography:"body2"},children:[n.jsxs(e,{direction:"row",children:[n.jsx(i,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Address"}),a==null?void 0:a.fullAddress]}),n.jsxs(e,{direction:"row",children:[n.jsx(i,{component:"span",sx:{color:"text.secondary",width:120,flexShrink:0},children:"Phone number"}),a==null?void 0:a.phoneNumber]})]})]}),r=n.jsxs(n.Fragment,{children:[n.jsx(j,{title:"Payment",action:n.jsx(m,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsxs(i,{display:"flex",alignItems:"center",justifyContent:"flex-end",sx:{p:3,gap:.5,typography:"body2"},children:[l==null?void 0:l.cardNumber,n.jsx(o,{icon:"logos:mastercard",width:24})]})]});return n.jsxs(y,{children:[x,n.jsx(u,{sx:{borderStyle:"dashed"}}),d,n.jsx(u,{sx:{borderStyle:"dashed"}}),c,n.jsx(u,{sx:{borderStyle:"dashed"}}),r]})}function Y({taxes:s,shipping:t,discount:l,subtotal:a,items:x=[],totalAmount:d}){const c=n.jsxs(e,{spacing:2,alignItems:"flex-end",sx:{p:3,textAlign:"right",typography:"body2"},children:[n.jsxs(e,{direction:"row",children:[n.jsx(i,{sx:{color:"text.secondary"},children:"Subtotal"}),n.jsx(i,{sx:{width:160,typography:"subtitle2"},children:p(a)||"-"})]}),n.jsxs(e,{direction:"row",children:[n.jsx(i,{sx:{color:"text.secondary"},children:"Shipping"}),n.jsx(i,{sx:{width:160,...t&&{color:"error.main"}},children:t?`- ${p(t)}`:"-"})]}),n.jsxs(e,{direction:"row",children:[n.jsx(i,{sx:{color:"text.secondary"},children:"Discount"}),n.jsx(i,{sx:{width:160,...l&&{color:"error.main"}},children:l?`- ${p(l)}`:"-"})]}),n.jsxs(e,{direction:"row",children:[n.jsx(i,{sx:{color:"text.secondary"},children:"Taxes"}),n.jsx(i,{sx:{width:160},children:s?p(s):"-"})]}),n.jsxs(e,{direction:"row",sx:{typography:"subtitle1"},children:[n.jsx("div",{children:"Total"}),n.jsx(i,{sx:{width:160},children:p(d)||"-"})]})]});return n.jsxs(y,{children:[n.jsx(j,{title:"Details",action:n.jsx(m,{children:n.jsx(o,{icon:"solar:pen-bold"})})}),n.jsx(C,{children:x.map(r=>n.jsxs(e,{direction:"row",alignItems:"center",sx:{p:3,minWidth:640,borderBottom:S=>`dashed 2px ${S.vars.palette.background.neutral}`},children:[n.jsx(T,{src:r.coverUrl,variant:"rounded",sx:{width:48,height:48,mr:2}}),n.jsx(k,{primary:r.name,secondary:r.sku,primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{component:"span",color:"text.disabled",mt:.5}}),n.jsxs(i,{sx:{typography:"body2"},children:["x",r.quantity]}),n.jsx(i,{sx:{width:110,textAlign:"right",typography:"subtitle2"},children:p(r.price)})]},r.id))}),c]})}function J({status:s,backLink:t,createdAt:l,orderNumber:a,statusOptions:x,onChangeStatus:d}){const c=v();return n.jsxs(n.Fragment,{children:[n.jsxs(e,{spacing:3,direction:{xs:"column",md:"row"},sx:{mb:{xs:3,md:5}},children:[n.jsxs(e,{spacing:1,direction:"row",alignItems:"flex-start",children:[n.jsx(m,{component:D,href:t,children:n.jsx(o,{icon:"eva:arrow-ios-back-fill"})}),n.jsxs(e,{spacing:.5,children:[n.jsxs(e,{spacing:1,direction:"row",alignItems:"center",children:[n.jsxs(b,{variant:"h4",children:[" Order ",a," "]}),n.jsx(O,{variant:"soft",color:s==="completed"&&"success"||s==="pending"&&"warning"||s==="cancelled"&&"error"||"default",children:s})]}),n.jsx(b,{variant:"body2",sx:{color:"text.disabled"},children:h(l)})]})]}),n.jsxs(e,{flexGrow:1,spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[n.jsx(g,{color:"inherit",variant:"outlined",endIcon:n.jsx(o,{icon:"eva:arrow-ios-downward-fill"}),onClick:c.onOpen,sx:{textTransform:"capitalize"},children:s}),n.jsx(g,{color:"inherit",variant:"outlined",startIcon:n.jsx(o,{icon:"solar:printer-minimalistic-bold"}),children:"Print"}),n.jsx(g,{color:"inherit",variant:"contained",startIcon:n.jsx(o,{icon:"solar:pen-bold"}),children:"Edit"})]})]}),n.jsx(P,{open:c.open,anchorEl:c.anchorEl,onClose:c.onClose,slotProps:{arrow:{placement:"top-right"}},children:n.jsx(B,{children:x.map(r=>n.jsx(N,{selected:r.value===s,onClick:()=>{c.onClose(),d(r.value)},children:r.label},r.value))})})]})}function Q({history:s}){const t=n.jsxs(F,{variant:"outlined",sx:{p:2.5,gap:2,minWidth:260,flexShrink:0,borderRadius:2,display:"flex",typography:"body2",borderStyle:"dashed",flexDirection:"column"},children:[n.jsxs(e,{spacing:.5,children:[n.jsx(i,{sx:{color:"text.disabled"},children:"Order time"}),h(s==null?void 0:s.orderTime)]}),n.jsxs(e,{spacing:.5,children:[n.jsx(i,{sx:{color:"text.disabled"},children:"Payment time"}),h(s==null?void 0:s.orderTime)]}),n.jsxs(e,{spacing:.5,children:[n.jsx(i,{sx:{color:"text.disabled"},children:"Delivery time for the carrier"}),h(s==null?void 0:s.orderTime)]}),n.jsxs(e,{spacing:.5,children:[n.jsx(i,{sx:{color:"text.disabled"},children:"Completion time"}),h(s==null?void 0:s.orderTime)]})]}),l=n.jsx(_,{sx:{p:0,m:0,[`& .${K.root}:before`]:{flex:0,padding:0}},children:s==null?void 0:s.timeline.map((a,x)=>{const d=x===0,c=x===s.timeline.length-1;return n.jsxs(U,{children:[n.jsxs(q,{children:[n.jsx(z,{color:d&&"primary"||"grey"}),c?null:n.jsx(M,{})]}),n.jsxs(W,{children:[n.jsx(b,{variant:"subtitle2",children:a.title}),n.jsx(i,{sx:{color:"text.disabled",typography:"caption",mt:.5},children:h(a.time)})]})]},a.title)})});return n.jsxs(y,{children:[n.jsx(j,{title:"History"}),n.jsxs(e,{spacing:3,alignItems:{md:"flex-start"},direction:{xs:"column-reverse",md:"row"},sx:{p:3},children:[l,t]})]})}function X({order:s}){const[t,l]=w.useState(s==null?void 0:s.status),a=w.useCallback(x=>{l(x)},[]);return n.jsxs(L,{children:[n.jsx(J,{backLink:R.dashboard.order.root,orderNumber:s==null?void 0:s.orderNumber,createdAt:s==null?void 0:s.createdAt,status:t,onChangeStatus:a,statusOptions:E}),n.jsxs(f,{container:!0,spacing:3,children:[n.jsx(f,{xs:12,md:8,children:n.jsxs(e,{spacing:3,direction:{xs:"column-reverse",md:"column"},children:[n.jsx(Y,{items:s==null?void 0:s.items,taxes:s==null?void 0:s.taxes,shipping:s==null?void 0:s.shipping,discount:s==null?void 0:s.discount,subtotal:s==null?void 0:s.subtotal,totalAmount:s==null?void 0:s.totalAmount}),n.jsx(Q,{history:s==null?void 0:s.history})]})}),n.jsx(f,{xs:12,md:4,children:n.jsx(V,{customer:s==null?void 0:s.customer,delivery:s==null?void 0:s.delivery,payment:s==null?void 0:s.payment,shippingAddress:s==null?void 0:s.shippingAddress})})]})]})}const Z={title:`Order details | Dashboard - ${$.site.name}`};function Hn(){const{id:s=""}=G(),t=A.find(l=>l.id===s);return n.jsxs(n.Fragment,{children:[n.jsx(H,{children:n.jsxs("title",{children:[" ",Z.title]})}),n.jsx(X,{order:t})]})}export{Hn as default};
