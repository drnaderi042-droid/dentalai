import{j as t,e5 as m,B as f,bt as h,A as j,p as d,i as g,r as i,fa as C,H as b,C as E,dh as y,di as N}from"./index-BSItzkt3.js";import{u as A}from"./use-params-CMCWaMkc.js";import{C as I}from"./custom-breadcrumbs-u_kfWYpE.js";import{a as w}from"./user-quick-edit-form-BnVqhAi0.js";import"./image-BuqYs7tq.js";import"./zod-BOXuI70n.js";import"./form-provider-IFaCVrX4.js";import"./TextField-DpdcsLRb.js";import"./Select-QPCMlUZ4.js";import"./Menu-Cy0n4kRw.js";import"./InputLabel-DqZ4yv4U.js";import"./FormLabel-Dg62SF9b.js";import"./FormHelperText-CBXzj8d7.js";import"./FormControl-1z33WGqh.js";import"./Rating-LRaLudfA.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-cOR4tKCy.js";import"./index-DC_o48Ax.js";import"./Slider-B4qW6LuH.js";import"./RadioGroup-DuXlXr3g.js";import"./FormGroup-DIAu_15X.js";import"./FormControlLabel-CtXEP1QR.js";import"./index-b5NUrSMh.js";import"./countries-DSLisFCy.js";import"./Autocomplete-B4c-hVbi.js";import"./Chip-CHY_XJWs.js";import"./country-select-B4qFdROS.js";import"./Checkbox-p5PKnry8.js";import"./upload-C5NUn5Ko.js";import"./preview-multi-file-C1SdoyfF.js";import"./format-number-BVcmMM5V.js";import"./file-thumbnail-J0C6dV__.js";import"./upload-avatar-DTAGrxFf.js";import"./avatar-url-S8pB8DFh.js";import"./DatePicker-BK0jorBV.js";import"./dialogTitleClasses-BJYaWiXv.js";import"./ListItem-Doeuyi4X.js";import"./DialogContent-CPx_wcNJ.js";import"./MobileDateTimePicker-Baldv5MM.js";import"./schema-helper-DeS_g_Vm.js";import"./Card-BqWDE3fr.js";import"./LoadingButton-HyVDRRh6.js";import"./DialogTitle-D9mOMHyE.js";function B({user:r,loading:o,error:s}){return o?t.jsx(m,{children:t.jsx(f,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:t.jsx(h,{})})}):s?t.jsx(m,{children:t.jsx(j,{severity:"error",sx:{mt:3},children:s})}):t.jsxs(m,{children:[t.jsx(I,{heading:"ویرایش کاربر",links:[{name:"داشبورد",href:d.dashboard.root},{name:"کاربران",href:d.dashboard.user.root},{name:(r==null?void 0:r.name)||(r==null?void 0:r.firstName)||"کاربر"}],sx:{mb:{xs:3,md:5}}}),t.jsx(w,{currentUser:r})]})}const F={title:`ویرایش کاربر | داشبورد - ${E.site.name}`};function Ct(){var l;const{id:r=""}=A(),{user:o}=g(),[s,p]=i.useState(null),[u,a]=i.useState(!0),[x,n]=i.useState(null);i.useEffect(()=>{(async()=>{if(!r){a(!1);return}try{a(!0);const e=await y.get(N.user.details(r));p(e.data),n(null)}catch(e){console.error("Error fetching user:",e),n(e.message||"خطا در دریافت اطلاعات کاربر"),p(null)}finally{a(!1)}})()},[r]);const c=(l=o==null?void 0:o.role)==null?void 0:l.toUpperCase();return!o||c!=="ADMIN"?t.jsx(C,{to:"/dashboard",replace:!0}):t.jsxs(t.Fragment,{children:[t.jsx(b,{children:t.jsxs("title",{children:[" ",F.title]})}),t.jsx(B,{user:s,loading:u,error:x})]})}export{Ct as default};
