import{b9 as D,j as e,S as l,d as B,R as u,I as i,B as k,cV as f,o as c,dl as E,bb as O,bc as J,T as p,aL as y,aK as P,aC as R,aB as L,G as v,v as o,r as C,cL as S,fb as A,cK as z,dd as G,e5 as _,fc as F,p as w,fd as M,H as N,C as H}from"./index-BSItzkt3.js";import{u as V}from"./use-params-CMCWaMkc.js";import"./job-new-edit-form-DSboEUN4.js";import{u as K}from"./use-tabs-Wx4MQbak.js";import{L as U}from"./LoadingButton-HyVDRRh6.js";import{b as $}from"./format-number-BVcmMM5V.js";import{M as q}from"./markdown-DkFU1EoS.js";import{C as g}from"./Card-BqWDE3fr.js";import{C as T}from"./Chip-CHY_XJWs.js";import{P as Q}from"./Pagination-DCxMl0QM.js";import"./zod-BOXuI70n.js";import"./form-provider-IFaCVrX4.js";import"./TextField-DpdcsLRb.js";import"./Select-QPCMlUZ4.js";import"./Menu-Cy0n4kRw.js";import"./InputLabel-DqZ4yv4U.js";import"./FormLabel-Dg62SF9b.js";import"./FormHelperText-CBXzj8d7.js";import"./FormControl-1z33WGqh.js";import"./Rating-LRaLudfA.js";import"./visuallyHidden-Dan1xhjv.js";import"./editor-cOR4tKCy.js";import"./index-DC_o48Ax.js";import"./Slider-B4qW6LuH.js";import"./RadioGroup-DuXlXr3g.js";import"./FormGroup-DIAu_15X.js";import"./FormControlLabel-CtXEP1QR.js";import"./index-b5NUrSMh.js";import"./countries-DSLisFCy.js";import"./Autocomplete-B4c-hVbi.js";import"./country-select-B4qFdROS.js";import"./Checkbox-p5PKnry8.js";import"./upload-C5NUn5Ko.js";import"./preview-multi-file-C1SdoyfF.js";import"./file-thumbnail-J0C6dV__.js";import"./upload-avatar-DTAGrxFf.js";import"./avatar-url-S8pB8DFh.js";import"./image-BuqYs7tq.js";import"./DatePicker-BK0jorBV.js";import"./dialogTitleClasses-BJYaWiXv.js";import"./ListItem-Doeuyi4X.js";import"./DialogContent-CPx_wcNJ.js";import"./MobileDateTimePicker-Baldv5MM.js";import"./schema-helper-DeS_g_Vm.js";import"./CardHeader-CavtfEuu.js";import"./html-to-markdown-CuRjBHl-.js";import"./LastPage-DHcM-itg.js";function W({publish:a,backLink:s,editLink:r,liveLink:m,publishOptions:n,onChangePublish:h,sx:t,...I}){const x=D();return e.jsxs(e.Fragment,{children:[e.jsxs(l,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...t},...I,children:[e.jsx(B,{component:u,href:s,startIcon:e.jsx(i,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(k,{sx:{flexGrow:1}}),a==="published"&&e.jsx(f,{title:"Go Live",children:e.jsx(c,{component:u,href:m,children:e.jsx(i,{icon:"eva:external-link-fill"})})}),e.jsx(f,{title:"Edit",children:e.jsx(c,{component:u,href:r,children:e.jsx(i,{icon:"solar:pen-bold"})})}),e.jsx(U,{color:"inherit",variant:"contained",loading:!a,loadingIndicator:"Loadingâ€¦",endIcon:e.jsx(i,{icon:"eva:arrow-ios-downward-fill"}),onClick:x.onOpen,sx:{textTransform:"capitalize"},children:a})]}),e.jsx(E,{open:x.open,anchorEl:x.anchorEl,onClose:x.onClose,children:e.jsx(O,{children:n.map(d=>e.jsxs(J,{selected:d.value===a,onClick:()=>{x.onClose(),h(d.value)},children:[d.value==="published"&&e.jsx(i,{icon:"eva:cloud-upload-fill"}),d.value==="draft"&&e.jsx(i,{icon:"solar:file-text-bold"}),d.label]},d.value))})})]})}function X({job:a}){const s=e.jsxs(g,{sx:{p:3,gap:3,display:"flex",flexDirection:"column"},children:[e.jsx(p,{variant:"h4",children:a==null?void 0:a.title}),e.jsx(q,{children:a==null?void 0:a.content}),e.jsxs(l,{spacing:2,children:[e.jsx(p,{variant:"h6",children:"Skills"}),e.jsx(l,{direction:"row",alignItems:"center",spacing:1,children:a==null?void 0:a.skills.map(n=>e.jsx(T,{label:n,variant:"soft"},n))})]}),e.jsxs(l,{spacing:2,children:[e.jsx(p,{variant:"h6",children:"Benefits"}),e.jsx(l,{direction:"row",alignItems:"center",spacing:1,children:a==null?void 0:a.benefits.map(n=>e.jsx(T,{label:n,variant:"soft"},n))})]})]}),r=e.jsx(g,{sx:{p:3,gap:2,display:"flex",flexDirection:"column"},children:[{label:"Date posted",value:y(a==null?void 0:a.createdAt),icon:e.jsx(i,{icon:"solar:calendar-date-bold"})},{label:"Expiration date",value:y(a==null?void 0:a.expiredDate),icon:e.jsx(i,{icon:"solar:calendar-date-bold"})},{label:"Employment type",value:a==null?void 0:a.employmentTypes,icon:e.jsx(i,{icon:"solar:clock-circle-bold"})},{label:"Offered salary",value:a!=null&&a.salary.negotiable?"Negotiable":$(a==null?void 0:a.salary.price),icon:e.jsx(i,{icon:"solar:wad-of-money-bold"})},{label:"Experience",value:a==null?void 0:a.experience,icon:e.jsx(i,{icon:"carbon:skill-level-basic"})}].map(n=>e.jsxs(l,{spacing:1.5,direction:"row",children:[n.icon,e.jsx(P,{primary:n.label,secondary:n.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{component:"span",color:"text.primary",typography:"subtitle2"}})]},n.label))}),m=e.jsxs(R,{variant:"outlined",sx:{p:3,mt:3,gap:2,borderRadius:2,display:"flex"},children:[e.jsx(L,{alt:a==null?void 0:a.company.name,src:a==null?void 0:a.company.logo,variant:"rounded",sx:{width:64,height:64}}),e.jsxs(l,{spacing:1,children:[e.jsx(p,{variant:"subtitle1",children:a==null?void 0:a.company.name}),e.jsx(p,{variant:"body2",children:a==null?void 0:a.company.fullAddress}),e.jsx(p,{variant:"body2",children:a==null?void 0:a.company.phoneNumber})]})]});return e.jsxs(v,{container:!0,spacing:3,children:[e.jsx(v,{xs:12,md:8,children:s}),e.jsxs(v,{xs:12,md:4,children:[r,m]})]})}function Y({candidates:a}){return e.jsxs(e.Fragment,{children:[e.jsx(k,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},children:a.map(s=>e.jsxs(g,{sx:{p:3,gap:2,display:"flex"},children:[e.jsx(c,{sx:{position:"absolute",top:8,right:8},children:e.jsx(i,{icon:"eva:more-vertical-fill"})}),e.jsx(L,{alt:s.name,src:s.avatarUrl,sx:{width:48,height:48}}),e.jsxs(l,{spacing:2,children:[e.jsx(P,{primary:s.name,secondary:s.role,secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsxs(l,{spacing:1,direction:"row",children:[e.jsx(c,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:r=>o(r.vars.palette.error.mainChannel,.08),"&:hover":{bgcolor:r=>o(r.vars.palette.error.mainChannel,.16)}},children:e.jsx(i,{width:18,icon:"solar:phone-bold"})}),e.jsx(c,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:r=>o(r.vars.palette.info.mainChannel,.08),"&:hover":{bgcolor:r=>o(r.vars.palette.info.mainChannel,.16)}},children:e.jsx(i,{width:18,icon:"solar:chat-round-dots-bold"})}),e.jsx(c,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:r=>o(r.vars.palette.primary.mainChannel,.08),"&:hover":{bgcolor:r=>o(r.vars.palette.primary.mainChannel,.16)}},children:e.jsx(i,{width:18,icon:"fluent:mail-24-filled"})}),e.jsx(f,{title:"Download CV",children:e.jsx(c,{size:"small",color:"secondary",sx:{borderRadius:1,bgcolor:r=>o(r.vars.palette.secondary.mainChannel,.08),"&:hover":{bgcolor:r=>o(r.vars.palette.secondary.mainChannel,.16)}},children:e.jsx(i,{width:18,icon:"eva:cloud-download-fill"})})})]})]})]},s.id))}),e.jsx(Q,{count:10,sx:{mt:{xs:5,md:8},mx:"auto"}})]})}function Z({job:a}){const s=K("content"),[r,m]=C.useState(a==null?void 0:a.publish),n=C.useCallback(t=>{m(t)},[]),h=e.jsx(S,{value:s.value,onChange:s.onChange,sx:{mb:{xs:3,md:5}},children:A.map(t=>e.jsx(z,{iconPosition:"end",value:t.value,label:t.label,icon:t.value==="candidates"?e.jsx(G,{variant:"filled",children:a==null?void 0:a.candidates.length}):""},t.value))});return e.jsxs(_,{children:[e.jsx(W,{backLink:w.dashboard.job.root,editLink:w.dashboard.job.edit(`${a==null?void 0:a.id}`),liveLink:"#",publish:r||"",onChangePublish:n,publishOptions:F}),h,s.value==="content"&&e.jsx(X,{job:a}),s.value==="candidates"&&e.jsx(Y,{candidates:(a==null?void 0:a.candidates)??[]})]})}const j={title:`Job details | Dashboard - ${H.site.name}`};function qe(){const{id:a=""}=V(),s=M.find(r=>r.id===a);return e.jsxs(e.Fragment,{children:[e.jsx(N,{children:e.jsxs("title",{children:[" ",j.title]})}),e.jsx(Z,{job:s})]})}export{qe as default};
