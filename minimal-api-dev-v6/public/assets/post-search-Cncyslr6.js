import{b9 as g,j as e,d as j,B as v,I as c,dl as b,bb as y,bc as I,h as C,dm as P,dn as k,r as S,aB as W,L as w,T as A,n as B,c9 as E,be as T}from"./index-BH9ijvcg.js";import{A as O}from"./Autocomplete-Crt2raTS.js";import{T as F}from"./TextField-DgF_8CdY.js";function U({sort:r,sortOptions:i,onSort:a}){const o=g();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{disableRipple:!0,color:"inherit",onClick:o.onOpen,endIcon:e.jsx(c,{icon:o.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort by:",e.jsx(v,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:r})]}),e.jsx(b,{open:o.open,anchorEl:o.anchorEl,onClose:o.onClose,children:e.jsx(y,{children:i.map(s=>e.jsx(I,{selected:r===s.value,onClick:()=>{o.onClose(),a(s.value)},children:s.label},s.value))})})]})}function K({query:r,results:i,onSearch:a,hrefItem:o,loading:s}){const h=C(),d=t=>{h.push(o(t))},x=t=>{r&&t.key==="Enter"&&d(r)};return e.jsx(O,{sx:{width:{xs:1,sm:260}},loading:s,autoHighlight:!0,popupIcon:null,options:i,onInputChange:(t,n)=>a(n),getOptionLabel:t=>t.title,noOptionsText:e.jsx(T,{query:r}),isOptionEqualToValue:(t,n)=>t.id===n.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[` .${E.option}`]:{pl:.75}}}},renderInput:t=>e.jsx(F,{...t,placeholder:"Search...",onKeyUp:x,InputProps:{...t.InputProps,startAdornment:e.jsx(B,{position:"start",children:e.jsx(c,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[s?e.jsx(c,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,t.InputProps.endAdornment]})}}),renderOption:(t,n,{inputValue:p})=>{const m=P(n.title,p),u=k(n.title,m);return S.createElement("li",{...t,key:n.id},e.jsx(W,{alt:n.title,src:n.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},n.id),e.jsx(w,{underline:"none",onClick:()=>d(n.title),children:u.map((l,f)=>e.jsx(A,{component:"span",color:l.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:l.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:l.text},f))},p))}})}export{K as P,U as a};
