# مقایسه نتایج Frontend با Ground Truth

## تصویر تست شده
- **نام فایل**: `cks2ip8fq29yq0yufc4scftj8.png`
- **ابعاد**: 1968 × 2225 پیکسل
- **Pixel Size**: 0.1 mm/pixel

## مقایسه مختصات

| Landmark | Frontend X | Frontend Y | GT X | GT Y | Error (px) | Error (mm) |
|----------|------------|------------|------|------|------------|------------|
| N | 1329.94 | 1712.21 | 1183 | 508 | 1212.25 | 121.22 |
| Gn | 280.59 | 925.63 | 1336 | 1707 | 933.14 | 93.31 |
| LIT | 295.97 | 995.17 | 1371 | 1308 | 1174.62 | 117.46 |
| UIT | 238.31 | 995.17 | 1400 | 1334 | 1255.29 | 125.53 |
| Po | 1356.84 | 1290.67 | 291 | 958 | 1184.18 | 118.42 |
| A | 311.34 | 1116.85 | 1315 | 1086 | 1004.23 | 100.42 |
| Ar | 311.34 | 1082.08 | 445 | 1061 | 133.99 | 13.40 |
| UIA | 311.34 | 1103.81 | 1288 | 1106 | 977.08 | 97.71 |
| Co | 434.34 | 1325.44 | 449 | 980 | 345.68 | 34.57 |
| UMT | 418.97 | 1034.28 | 1119 | 1339 | 808.75 | 80.88 |
| LPM | 388.22 | 1029.93 | 1189 | 1329 | 864.88 | 86.49 |
| Go | 295.97 | 1377.59 | 593 | 1496 | 339.83 | 33.98 |
| PNS | 453.56 | 1290.67 | 793 | 1138 | 368.69 | 36.87 |
| R | 588.09 | 1186.38 | 523 | 1265 | 103.76 | 10.38 |
| Or | 388.22 | 1273.29 | 1112 | 790 | 756.44 | 75.64 |
| S | 987.84 | 1499.27 | 499 | 758 | 783.88 | 78.39 |
| LMT | 1249.22 | 1603.56 | 1147 | 1334 | 280.83 | 28.08 |
| LIA | 1310.72 | 1707.86 | 1288 | 1556 | 152.05 | 15.20 |
| N` | 295.97 | 1520.99 | 1240 | 557 | 1031.86 | 103.19 |
| Pog` | 219.09 | 856.10 | 1488 | 1608 | 1491.89 | 149.19 |
| Sn | 1422.19 | 1273.29 | 1458 | 1067 | 208.20 | 20.82 |
| B | 1329.94 | 1725.24 | 1333 | 1564 | 161.49 | 16.15 |
| Pog | 1329.94 | 1725.24 | 1348 | 1663 | 62.88 | 6.29 |
| Me | 1283.81 | 1729.59 | 1297 | 1733 | 13.93 | 1.39 |
| ANS | 1233.84 | 599.71 | 1338 | 1048 | 469.18 | 46.92 |
| UPM | 1249.22 | 1625.29 | 1177 | 1339 | 293.87 | 29.39 |
| Ls | 1264.59 | 425.88 | 1508 | 1212 | 828.28 | 82.83 |
| Li | 1499.06 | 1208.11 | 1501 | 1369 | 160.90 | 16.09 |
| Pn | 1499.06 | 1208.11 | 1585 | 946 | 290.89 | 29.09 |

## آمار خطاها

### بر حسب پیکسل:
- **میانگین (MRE)**: 540.97 پیکسل
- **میانه**: 339.83 پیکسل
- **کمینه**: 13.93 پیکسل
- **بیشینه**: 1491.89 پیکسل
- **انحراف معیار**: 430.82 پیکسل

### بر حسب میلی‌متر:
- **میانگین (MRE)**: 54.10 mm
- **میانه**: 33.98 mm
- **کمینه**: 1.39 mm
- **بیشینه**: 149.19 mm
- **انحراف معیار**: 43.08 mm

## لندمارک‌های با بیشترین خطا

1. **Pog`** (Soft Tissue Pogonion): 149.19 mm (1491.89 px)
   - Frontend: (219.09, 856.10)
   - Ground Truth: (1488, 1608)

2. **UIT** (Upper Incisor Tip): 125.53 mm (1255.29 px)
   - Frontend: (238.31, 995.17)
   - Ground Truth: (1400, 1334)

3. **N** (Nasion): 121.22 mm (1212.25 px)
   - Frontend: (1329.94, 1712.21)
   - Ground Truth: (1183, 508)

4. **LIT** (Lower Incisor Tip): 117.46 mm (1174.62 px)
   - Frontend: (295.97, 995.17)
   - Ground Truth: (1371, 1308)

5. **Po** (Porion): 118.42 mm (1184.18 px)
   - Frontend: (1356.84, 1290.67)
   - Ground Truth: (291, 958)

## لندمارک‌های با کمترین خطا

1. **Me** (Menton): 1.39 mm (13.93 px)
   - Frontend: (1283.81, 1729.59)
   - Ground Truth: (1297, 1733)

2. **Pog** (Pogonion): 6.29 mm (62.88 px)
   - Frontend: (1329.94, 1725.24)
   - Ground Truth: (1348, 1663)

3. **R** (Ramus): 10.38 mm (103.76 px)
   - Frontend: (588.09, 1186.38)
   - Ground Truth: (523, 1265)

4. **Ar** (Articulare): 13.40 mm (133.99 px)
   - Frontend: (311.34, 1082.08)
   - Ground Truth: (445, 1061)

5. **B** (B-point): 16.15 mm (161.49 px)
   - Frontend: (1329.94, 1725.24)
   - Ground Truth: (1333, 1564)

## Success Detection Rate (SDR)

- **SDR @ 1.0mm**: 3.45% (1/29)
- **SDR @ 2.0mm**: 6.90% (2/29)
- **SDR @ 2.5mm**: 10.34% (3/29)
- **SDR @ 3.0mm**: 10.34% (3/29)
- **SDR @ 4.0mm**: 10.34% (3/29)

## تحلیل

### مشکلات اصلی:
1. **MRE بسیار بالا**: 54.10 mm که بسیار بیشتر از آستانه قابل قبول بالینی (2-3 mm) است
2. **عدم دقت در تشخیص**: اکثر لندمارک‌ها در موقعیت‌های کاملاً اشتباه هستند
3. **خطای سیستماتیک**: به نظر می‌رسد برخی لندمارک‌ها flip شده‌اند یا در موقعیت‌های متقارن قرار دارند

### احتمال مشکلات:
- **Flip/Flip افقی یا عمودی**: برخی لندمارک‌ها در سمت مخالف هستند
- **مقیاس‌بندی نادرست**: ممکن است مدل در مقیاس 512×512 آموزش دیده اما نتایج به 1968×2225 تبدیل نشده باشد
- **سیستم مختصات**: ممکن است سیستم مختصات در فرانت‌اند با annotation متفاوت باشد

## پیشنهادات برای بهبود:
1. بررسی سیستم مختصات و transform ها در inference
2. بررسی اینکه آیا تصویر flip شده است یا نه
3. بررسی scale کردن صحیح مختصات از 512×512 به اندازه اصلی

