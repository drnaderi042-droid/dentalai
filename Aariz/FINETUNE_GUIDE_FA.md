# ๐ ุฑุงูููุง ุณุฑุน Fine-tuning

## ฺุฑุง Fine-tuningุ

- โ **ุณุฑุน**: ููุท 30-50 epoch (2-4 ุณุงุนุช)
- โ **ุจโุฎุทุฑ**: ูุฏู ูุนู ุฑุง ุจูุจูุฏ ูโุฏูุฏ
- โ **ฺฉุงุฑุขูุฏ**: ุงุฒ ุงุฏฺฏุฑ ูุจู ุงุณุชูุงุฏู ูโฺฉูุฏ
- โ **ุงุญุชูุงู ููููุช ุจุงูุง**: ูุฏู ุดูุง ูุจูุงู ุฎูุจ ฺฉุงุฑ ูโฺฉูุฏ (MRE 1.99mm)

## ๐ฏ ูุฏู

- **ูุนู**: MRE 1.99mm, SDR @ 2mm: 65.52%
- **ูุฏู**: MRE 1.7-1.8mm, SDR @ 2mm: 70-72%

## โก ุดุฑูุน ุณุฑุน

### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ Batch File (ุณุงุฏูโุชุฑู)

```batch
cd Aariz
finetune_model.bat
```

### ุฑูุด 2: ุฏุณุช

```bash
cd Aariz

# 1. Backup (ููู!)
copy checkpoints\checkpoint_best.pth checkpoints\checkpoint_best_backup.pth

# 2. Fine-tuning
python train2.py ^
    --resume checkpoints/checkpoint_best.pth ^
    --model hrnet ^
    --image_size 256 256 ^
    --batch_size 16 ^
    --lr 1e-5 ^
    --warmup_epochs 2 ^
    --epochs 30 ^
    --loss adaptive_wing ^
    --mixed_precision
```

## ๐ ุฑุตุฏ ฺฉุฑุฏู ุขููุฒุด

ุฏุฑ ฺฉ terminal ุฌุฏุงฺฏุงูู:

```bash
tensorboard --logdir logs
```

ุณูพุณ ุจู `http://localhost:6006` ุจุฑูุฏ ู:
- **Validation MRE** ุฑุง ุจุจูุฏ (ุจุงุฏ ฺฉุงูุด ุงุจุฏ)
- **Validation Loss** ุฑุง ุจุจูุฏ (ุจุงุฏ ฺฉุงูุด ุงุจุฏ)

## โ ูุดุงููโูุง ููููุช

- Validation MRE ุงุฒ 1.99mm ุจู 1.7-1.8mm ฺฉุงูุด ุงุจุฏ
- Validation Loss ฺฉุงูุด ุงุจุฏ
- SDR @ 2mm ุงูุฒุงุด ุงุจุฏ

## โ๏ธ ูุดุงููโูุง ูุดฺฉู

- Validation MRE ุงูุฒุงุด ุงุจุฏ โ **ูุชููู ฺฉูุฏ** (overfitting)
- Loss ููุณุงู ุดุฏุฏ ุฏุงุดุชู ุจุงุดุฏ โ LR ุฑุง ฺฉุงูุด ุฏูุฏ

## ๐ง ุชูุธูุงุช ูพุดุฑูุชู

### ุงฺฏุฑ ุฎู ุขูุณุชู ูพุด ูโุฑูุฏ:

LR ุฑุง ุงูุฒุงุด ุฏูุฏ:
```bash
--lr 5e-5  # ุจูุฏ: 1e-5
```

### ุงฺฏุฑ Overfitting ูโุดูุฏ:

LR ุฑุง ฺฉุงูุด ุฏูุฏ:
```bash
--lr 5e-6 \
--epochs 20
```

## ๐ ุจุนุฏ ุงุฒ Fine-tuning

1. **ุชุณุช ฺฉูุฏ**:
```bash
python compare_new_results.py
```

2. **ููุงุณู ฺฉูุฏ**:
   - MRE ุจุงุฏ ฺฉูุชุฑ ุดุฏู ุจุงุดุฏ
   - SDR ุจุงุฏ ุจุดุชุฑ ุดุฏู ุจุงุดุฏ

3. **ุงฺฏุฑ ุจูุชุฑ ุดุฏ**: ุงุฒ checkpoint ุฌุฏุฏ ุงุณุชูุงุฏู ฺฉูุฏ
4. **ุงฺฏุฑ ุจูุชุฑ ูุดุฏ**: ุงุฒ backup ุงุณุชูุงุฏู ฺฉูุฏ ู ุชูุธูุงุช ุฑุง ุชุบุฑ ุฏูุฏ

## โฑ๏ธ ุฒูุงู

- **Fine-tuning ููุงู**: ~2-3 ุณุงุนุช (30 epoch)
- **Fine-tuning ูุชูุณุท**: ~4-5 ุณุงุนุช (50 epoch)

## ๐ก ูฺฉุชู

ุงฺฏุฑ fine-tuning ุฌูุงุจ ูุฏุงุฏุ ูโุชูุงูุฏ:
1. LR ุฑุง ุชุบุฑ ุฏูุฏ ู ุฏูุจุงุฑู ุงูุชุญุงู ฺฉูุฏ
2. Epochs ุฑุง ุงูุฒุงุด ุฏูุฏ
3. ุจู ุขููุฒุด ุงุฒ ุงูู ุจุฑูุฏ

---

**ูพุดููุงุฏ**: ุจุง Fine-tuning ููุงู ุดุฑูุน ฺฉูุฏ (30 epoch, LR 1e-5)

