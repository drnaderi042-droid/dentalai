# ุฑุงูููุง ุชูุธู num_workers ุจุฑุง CPU ูุง ูุฎุชูู

## ๐ CPU i5 9400F

### ูุดุฎุตุงุช:
- **Cores**: 6
- **Threads**: 6 (ุจุฏูู Hyper-Threading)
- **Base Frequency**: 2.9 GHz
- **Turbo Frequency**: 4.1 GHz

### ุชูุธูุงุช ูพุดููุงุฏ:

#### ฺฏุฒูู 1: ุจููู (ูพุดููุงุฏ)
```bash
--num_workers 6
--prefetch_factor 4
```
- ุงุณุชูุงุฏู ฺฉุงูู ุงุฒ ุชูุงู cores
- ููุงุณุจ ุจุฑุง ุณุณุชูโูุง ุจุง RAM ฺฉุงู (16GB+)

#### ฺฏุฒูู 2: ูุญุงูุธูโฺฉุงุฑุงูู
```bash
--num_workers 4
--prefetch_factor 3
```
- ููุงุณุจ ุจุฑุง ุณุณุชูโูุง ุจุง RAM ูุญุฏูุฏ (8-16GB)
- CPU ฺฉูุชุฑ ุฏุฑฺฏุฑ ูโุดูุฏ

#### ฺฏุฒูู 3: ุญุฏุงฺฉุซุฑ (ููุท ุงฺฏุฑ RAM ฺฉุงู ุฏุงุฑุฏ)
```bash
--num_workers 6
--prefetch_factor 6
```
- ุญุฏุงฺฉุซุฑ ุงุณุชูุงุฏู ุงุฒ CPU
- ูุงุฒ ุจู RAM ุจุดุชุฑ (16GB+)

### โ ุชูุตู ููโุดูุฏ:
```bash
--num_workers 8  # ุจุดุชุฑ ุงุฒ ุชุนุฏุงุฏ cores - overhead ุงุฌุงุฏ ูโฺฉูุฏ
```

## ๐ ฺฺฏููู ููุฏุงุฑ ุจููู ุฑุง ูพุฏุง ฺฉููุ

### ุฑูุด 1: ุชุณุช ุชุฌุฑุจ

1. ุจุง `num_workers=4` ุดุฑูุน ฺฉูุฏ
2. GPU utilization ุฑุง ุจุฑุฑุณ ฺฉูุฏ
3. ุงฺฏุฑ GPU ุฏุฑ ุงูุชุธุงุฑ ุงุณุช (utilization < 80%)ุ ุงูุฒุงุด ุฏูุฏ
4. ุงฺฏุฑ CPU ุฏุฑ 100% ุงุณุชุ ฺฉุงูุด ุฏูุฏ

### ุฑูุด 2: ูุงูุชูุฑูฺฏ

```bash
# ุฏุฑ ุญู ุขููุฒุดุ Task Manager ุฑุง ุจุงุฒ ฺฉูุฏ
# Performance > CPU
# ุงฺฏุฑ CPU ุฏุฑ 100% ุงุณุชุ num_workers ุฑุง ฺฉุงูุด ุฏูุฏ
# ุงฺฏุฑ CPU ฺฉูุชุฑ ุงุฒ 80% ุงุณุชุ ูโุชูุงูุฏ ุงูุฒุงุด ุฏูุฏ
```

## ๐ ุฌุฏูู ุฑุงูููุง ุณุฑุน

| CPU Cores | num_workers ูพุดููุงุฏ | ุชูุถุญุงุช |
|-----------|---------------------|---------|
| 4 cores | 3-4 | ูุญุงูุธูโฺฉุงุฑุงูู: 3ุ ุจููู: 4 |
| 6 cores (i5 9400F) | 4-6 | ูุญุงูุธูโฺฉุงุฑุงูู: 4ุ ุจููู: 6 |
| 8 cores | 6-8 | ูุญุงูุธูโฺฉุงุฑุงูู: 6ุ ุจููู: 8 |
| 12+ cores | 8-12 | ุจุณุชู ุจู RAM ู workload |

## ๐ก ูฺฉุงุช ููู

1. **ูุงุนุฏู ฺฉู**: `num_workers` โค ุชุนุฏุงุฏ CPU cores
2. **RAM**: ูุฑ worker ุญุฏูุฏ 500MB-1GB RAM ุงุณุชูุงุฏู ูโฺฉูุฏ
3. **Hyper-Threading**: ุงฺฏุฑ CPU ุดูุง HT ุฏุงุฑุฏุ ูโุชูุงูุฏ ฺฉู ุจุดุชุฑ ุงุณุชูุงุฏู ฺฉูุฏ
4. **i5 9400F**: ุจุฏูู HTุ ูพุณ ุญุฏุงฺฉุซุฑ 6 ููุงุณุจ ุงุณุช

## ๐ฏ ุชูุตู ููุง ุจุฑุง i5 9400F

```bash
# ุชูุธูุงุช ุจููู
--num_workers 6
--prefetch_factor 4
```

ุงฺฏุฑ ุจุง ุงู ุชูุธูุงุช:
- **GPU utilization < 80%**: ูโุชูุงูุฏ `prefetch_factor` ุฑุง ุจู 6 ุงูุฒุงุด ุฏูุฏ
- **CPU ุฏุฑ 100%**: `num_workers` ุฑุง ุจู 4 ฺฉุงูุด ุฏูุฏ
- **RAM ูพุฑ ูโุดูุฏ**: `prefetch_factor` ุฑุง ุจู 2-3 ฺฉุงูุด ุฏูุฏ

## ๐ง ุชูุธูุงุช ุฏุฑ finetune_combined.bat

ูุงู batch ุจูโุฑูุฒุฑุณุงู ุดุฏู ู ุจุฑุง i5 9400F ุชูุธู ุดุฏู ุงุณุช:

```batch
set NUM_WORKERS=6  # ุจููู ุจุฑุง 6 cores
set PREFETCH_FACTOR=4
```

ุงฺฏุฑ ูโุฎูุงูุฏ ุชุบุฑ ุฏูุฏุ ุงู ููุงุฏุฑ ุฑุง ุฏุฑ ูุงู batch ูุฑุงุด ฺฉูุฏ.
















